{"remainingRequest":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js!/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue","mtime":1656364945567},{"path":"/home/Suhan/proj/recruiting/frontend/babel.config.js","mtime":1656249082498},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js","mtime":1655207917470},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js","mtime":1656249292178}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvU3VoYW4vcHJvai9yZWNydWl0aW5nL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmF0LWFsdGVybmF0aXZlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEJSb3csIEJDb2wgfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IEF2ZXJhZ2VTY29yZSBmcm9tICcuL0F2ZXJhZ2VTY29yZS52dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0U3RlcHMgfSBmcm9tICdAL0Bjb3JlL2FwaS9Gb3JtJzsKaW1wb3J0IEF0dHJpYnV0ZVNjb3JlIGZyb20gJy4vQXR0cmlidXRlU2NvcmUudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJSb3c6IEJSb3csCiAgICBCQ29sOiBCQ29sLAogICAgQXZlcmFnZVNjb3JlOiBBdmVyYWdlU2NvcmUsCiAgICBBdHRyaWJ1dGVTY29yZTogQXR0cmlidXRlU2NvcmUKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXdlc1JlcG9ydC9nZXRVd2VzU3VydmV5RGF0YScpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF2ZXJhZ2VHcmFwaERhdGE6IG51bGwsCiAgICAgIGF0dHJpYnV0ZUdyYXBoRGF0YTogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgVnVleC5tYXBTdGF0ZSgndXdlc1JlcG9ydCcsIFsndXdlc1N1dXJ2ZXlBcGlTdGF0dXMnLCAndXdlc1N1dXJ2ZXlEYXRhJ10pKSwKICBtZXRob2RzOiB7CiAgICBnZXRHcmFwaERhdGE6IGZ1bmN0aW9uIGdldEdyYXBoRGF0YShkYXRhKSB7CiAgICAgIHJldHVybiBkYXRhLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRvdGFsOiBwcmV2aW91c1ZhbHVlLnRvdGFsICsgcGFyc2VJbnQoY3VycmVudFZhbHVlLndvcmtmbG93c19leGVjdXRlZF9zdGVwc19yZXNwb25zZSksCiAgICAgICAgICBjb3VudDogcHJldmlvdXNWYWx1ZS5jb3VudCArIDEsCiAgICAgICAgICBtYXg6IHBhcnNlSW50KGN1cnJlbnRWYWx1ZS53b3JrZmxvd19zdGVwX2Fuc3dlcl9qc29uLm9wdGlvbnMuYXQoLTEpKQogICAgICAgIH07CiAgICAgIH0sIHsKICAgICAgICB0b3RhbDogMCwKICAgICAgICBjb3VudDogMCwKICAgICAgICBtYXg6IDAKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdXdlc1N1dXJ2ZXlBcGlTdGF0dXM6IGZ1bmN0aW9uIHV3ZXNTdXVydmV5QXBpU3RhdHVzKG5ld1N0YXR1cywgb2xkU3RhdHVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAobmV3U3RhdHVzID09PSAnZnVsZmlsbGVkJykgewogICAgICAgIHRoaXMuYXZlcmFnZUdyYXBoRGF0YSA9IHRoaXMuZ2V0R3JhcGhEYXRhKHRoaXMudXdlc1N1dXJ2ZXlEYXRhKTsKICAgICAgICBnZXRTdGVwcyh0aGlzLnV3ZXNTdXVydmV5RGF0YVswXS53b3JrZmxvd19pZCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICBkYXRhID0gZGF0YS5zb3J0KGZ1bmN0aW9uIChwcmV2aW91cywgbmV4dCkgewogICAgICAgICAgICByZXR1cm4gcHJldmlvdXMuc3RlcF9udW1iZXIgLSBuZXh0LnN0ZXBfbnVtYmVyOwogICAgICAgICAgfSk7CiAgICAgICAgICBkYXRhLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIHR5cGUgPSBfcmVmMi50eXBlOwogICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2RpdmlkZXInOwogICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy51d2VzU3V1cnZleURhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS53b3JrZmxvd19zdGVwX2RpdmlkZXJfbnVtID09PSBpdGVtLnN0ZXBfbnVtYmVyOwogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChfdGhpcy51d2VzU3V1cnZleURhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS53b3JrZmxvd19zdGVwX2RpdmlkZXJfbnVtID09PSBpdGVtLnN0ZXBfbnVtYmVyOwogICAgICAgICAgICB9KS5sZW5ndGgpIF90aGlzLmF0dHJpYnV0ZUdyYXBoRGF0YS5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiBpdGVtLnF1ZXJ5LAogICAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5nZXRHcmFwaERhdGEoX3RoaXMudXdlc1N1dXJ2ZXlEYXRhLmZpbHRlcihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS53b3JrZmxvd19zdGVwX2RpdmlkZXJfbnVtID09PSBpdGVtLnN0ZXBfbnVtYmVyOwogICAgICAgICAgICAgIH0pKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,UADA;IAEAC,UAFA;IAGAC,0BAHA;IAIAC;EAJA,CADA;EAOAC,OAPA,qBAOA;IACA;EACA,CATA;EAUAC,IAVA,kBAUA;IACA;MACAC,sBADA;MAEAC;IAFA;EAIA,CAfA;EAgBAC,4BACAC,wEADA,CAhBA;EAmBAC;IACAC,YADA,wBACAN,IADA,EACA;MACA,mBACA;QACA;UACAO,qFADA;UAEAC,8BAFA;UAGAC;QAHA;MAKA,CAPA,EAQA;QAAAF;QAAAC;QAAAC;MAAA,CARA;IAUA;EAZA,CAnBA;EAiCAC;IACAC,oBADA,gCACAC,SADA,EACAC,SADA,EACA;MAAA;;MACA;QACA;QACAC;UAAA;UACAd;YAAA;UAAA;UACAA,KACAe,MADA,CACA;YAAA;YAAA;UAAA,CADA,EAEAC,OAFA,CAEA;YACAC;cAAA;YAAA;YACA;cAAA;YAAA,WACA;cACAC,gBADA;cAEAC;gBAAA;cAAA;YAFA;UAIA,CATA;QAUA,CAZA;MAaA;IACA;EAlBA;AAjCA","names":["components","BRow","BCol","AverageScore","AttributeScore","mounted","data","averageGraphData","attributeGraphData","computed","Vuex","methods","getGraphData","total","count","max","watch","uwesSuurveyApiStatus","newStatus","oldStatus","getSteps","filter","forEach","console","name","value"],"sourceRoot":"src/views/UwesReport","sources":["Report.vue"],"sourcesContent":["<template>\n  <section id=\"dashboard-ecommerce\">\n    <average-score :data=\"averageGraphData\" />\n    <b-row class=\"match-height\">\n      <b-col lg=\"4\" v-for=\"graph in attributeGraphData\" :key=\"graph.name\"> <attribute-score :data=\"graph.value\" :name=\"graph.name\" /> </b-col>\n    </b-row>\n  </section>\n</template>\n\n<script>\nimport { BRow, BCol } from 'bootstrap-vue';\nimport AverageScore from './AverageScore.vue';\nimport Vuex from 'vuex';\nimport { getSteps } from '@/@core/api/Form';\nimport AttributeScore from './AttributeScore.vue';\n\nexport default {\n  components: {\n    BRow,\n    BCol,\n    AverageScore,\n    AttributeScore,\n  },\n  mounted() {\n    this.$store.dispatch('uwesReport/getUwesSurveyData');\n  },\n  data() {\n    return {\n      averageGraphData: null,\n      attributeGraphData: [],\n    };\n  },\n  computed: {\n    ...Vuex.mapState('uwesReport', ['uwesSuurveyApiStatus', 'uwesSuurveyData']),\n  },\n  methods: {\n    getGraphData(data) {\n      return data.reduce(\n        (previousValue, currentValue) => {\n          return {\n            total: previousValue.total + parseInt(currentValue.workflows_executed_steps_response),\n            count: previousValue.count + 1,\n            max: parseInt(currentValue.workflow_step_answer_json.options.at(-1)),\n          };\n        },\n        { total: 0, count: 0, max: 0 }\n      );\n    },\n  },\n  watch: {\n    uwesSuurveyApiStatus(newStatus, oldStatus) {\n      if (newStatus === 'fulfilled') {\n        this.averageGraphData = this.getGraphData(this.uwesSuurveyData);\n        getSteps(this.uwesSuurveyData[0].workflow_id).then(({ data }) => {\n          data = data.sort((previous, next) => previous.step_number - next.step_number);\n          data\n            .filter(({ type }) => type === 'divider')\n            .forEach((item) => {\n              console.log(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number));\n              if (this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number).length)\n                this.attributeGraphData.push({\n                  name: item.query,\n                  value: this.getGraphData(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number)),\n                });\n            });\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/pages/dashboard-ecommerce.scss';\n@import '@core/scss/vue/libs/chart-apex.scss';\n</style>\n"]}]}