{"remainingRequest":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js!/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Suhan/proj/recruiting/frontend/src/@core/layouts/components/app-navbar/components/CartDropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Suhan/proj/recruiting/frontend/src/@core/layouts/components/app-navbar/components/CartDropdown.vue","mtime":1656249082513},{"path":"/home/Suhan/proj/recruiting/frontend/babel.config.js","mtime":1656249082498},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js","mtime":1655207917470},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js","mtime":1656249292178}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBCTmF2SXRlbURyb3Bkb3duLCBCQmFkZ2UsIEJNZWRpYSwgQkxpbmssIEJJbWcsIEJGb3JtU3BpbmJ1dHRvbiwgQkJ1dHRvbiB9IGZyb20gJ2Jvb3RzdHJhcC12dWUnOwppbXBvcnQgVnVlUGVyZmVjdFNjcm9sbGJhciBmcm9tICd2dWUtcGVyZmVjdC1zY3JvbGxiYXInOwppbXBvcnQgUmlwcGxlIGZyb20gJ3Z1ZS1yaXBwbGUtZGlyZWN0aXZlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJOYXZJdGVtRHJvcGRvd246IEJOYXZJdGVtRHJvcGRvd24sCiAgICBCQmFkZ2U6IEJCYWRnZSwKICAgIEJNZWRpYTogQk1lZGlhLAogICAgQkxpbms6IEJMaW5rLAogICAgQkltZzogQkltZywKICAgIEJGb3JtU3BpbmJ1dHRvbjogQkZvcm1TcGluYnV0dG9uLAogICAgVnVlUGVyZmVjdFNjcm9sbGJhcjogVnVlUGVyZmVjdFNjcm9sbGJhciwKICAgIEJCdXR0b246IEJCdXR0b24KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIFJpcHBsZTogUmlwcGxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBwZXJmZWN0U2Nyb2xsYmFyU2V0dGluZ3M6IHsKICAgICAgICBtYXhTY3JvbGxiYXJMZW5ndGg6IDYwLAogICAgICAgIHdoZWVsUHJvcGFnYXRpb246IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWxBbW91bnQ6IGZ1bmN0aW9uIHRvdGFsQW1vdW50KCkgewogICAgICB2YXIgdG90YWwgPSAwOwogICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICB0b3RhbCArPSBpLnByaWNlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRvdGFsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hJdGVtczogZnVuY3Rpb24gZmV0Y2hJdGVtcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhcHAtZWNvbW1lcmNlL2ZldGNoQ2FydFByb2R1Y3RzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5pdGVtcyA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdHM7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUl0ZW1Gcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlSXRlbUZyb21DYXJ0KHByb2R1Y3RJZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhcHAtZWNvbW1lcmNlL3JlbW92ZVByb2R1Y3RGcm9tQ2FydCcsIHsKICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaXRlbUluZGV4ID0gX3RoaXMyLml0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIHAuaWQgPT09IHByb2R1Y3RJZDsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLml0ZW1zLnNwbGljZShpdGVtSW5kZXgsIDEpOyAvLyBVcGRhdGUgY291bnQgaW4gY2FydCBpdGVtcyBzdGF0ZQoKCiAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ2FwcC1lY29tbWVyY2UvVVBEQVRFX0NBUlRfSVRFTVNfQ09VTlQnLCBfdGhpczIuaXRlbXMubGVuZ3RoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA,SACAA,gBADA,EACAC,MADA,EACAC,MADA,EACAC,KADA,EACAC,IADA,EACAC,eADA,EACAC,OADA,QAEA,eAFA;AAGA;AACA;AAEA;EACAC;IACAP,kCADA;IAEAC,cAFA;IAGAC,cAHA;IAIAC,YAJA;IAKAC,UALA;IAMAC,gCANA;IAOAG,wCAPA;IAQAF;EARA,CADA;EAWAG;IACAC;EADA,CAXA;EAcAC,IAdA,kBAcA;IACA;MACAC,SADA;MAEAC;QACAC,sBADA;QAEAC;MAFA;IAFA;EAOA,CAtBA;EAuBAC;IACAC,WADA,yBACA;MACA;MACA;QAAAC;MAAA;MACA;IACA;EALA,CAvBA;EA8BAC;IACAC,UADA,wBACA;MAAA;;MACA,wDACAC,IADA,CACA;QACA;MACA,CAHA;IAIA,CANA;IAOAC,kBAPA,8BAOAC,SAPA,EAOA;MAAA;;MACA;QAAAA;MAAA,GACAF,IADA,CACA;QACA;UAAA;QAAA;;QACA,kCAFA,CAIA;;;QACA;MACA,CAPA;IAQA;EAhBA;AA9BA","names":["BNavItemDropdown","BBadge","BMedia","BLink","BImg","BFormSpinbutton","BButton","components","VuePerfectScrollbar","directives","Ripple","data","items","perfectScrollbarSettings","maxScrollbarLength","wheelPropagation","computed","totalAmount","total","methods","fetchItems","then","removeItemFromCart","productId"],"sourceRoot":"src/@core/layouts/components/app-navbar/components","sources":["CartDropdown.vue"],"sourcesContent":["<template>\n  <b-nav-item-dropdown\n    class=\"dropdown-cart mr-25\"\n    menu-class=\"dropdown-menu-media\"\n    right\n    @show=\"fetchItems\"\n  >\n    <template #button-content>\n      <feather-icon\n        :badge=\"$store.state['app-ecommerce'].cartItemsCount\"\n        class=\"text-body\"\n        icon=\"ShoppingCartIcon\"\n        size=\"21\"\n      />\n    </template>\n\n    <!-- Header -->\n    <li class=\"dropdown-menu-header\">\n      <div class=\"dropdown-header d-flex\">\n        <h4 class=\"notification-title mb-0 mr-auto\">\n          My Cart\n        </h4>\n        <b-badge\n          pill\n          variant=\"light-primary\"\n        >\n          {{ $store.state['app-ecommerce'].cartItemsCount }} Items\n        </b-badge>\n      </div>\n    </li>\n\n    <!-- Cart Items -->\n    <vue-perfect-scrollbar\n      v-if=\"items.length\"\n      :settings=\"perfectScrollbarSettings\"\n      class=\"scrollable-container media-list scroll-area\"\n      tagname=\"li\"\n    >\n      <b-media\n        v-for=\"item in items\"\n        :key=\"item.name\"\n      >\n        <template #aside>\n          <b-img\n            :src=\"item.image\"\n            :alt=\"item.name\"\n            rounded\n            width=\"62px\"\n          />\n        </template>\n        <feather-icon\n          icon=\"XIcon\"\n          class=\"cart-item-remove cursor-pointer\"\n          @click.stop=\"removeItemFromCart(item.id)\"\n        />\n        <div class=\"media-heading\">\n          <h6 class=\"cart-item-title\">\n            <b-link class=\"text-body\">\n              {{ item.name }}\n            </b-link>\n          </h6>\n          <small class=\"cart-item-by\">By {{ item.brand }}</small>\n        </div>\n\n        <div class=\"cart-item-qty ml-1\">\n          <b-form-spinbutton\n            v-model=\"item.qty\"\n            min=\"1\"\n            size=\"sm\"\n          />\n        </div>\n\n        <h5 class=\"cart-item-price\">\n          ${{ item.price }}\n        </h5>\n      </b-media>\n    </vue-perfect-scrollbar>\n\n    <!-- Cart Footer -->\n    <li\n      v-if=\"items.length\"\n      class=\"dropdown-menu-footer\"\n    >\n      <div class=\"d-flex justify-content-between mb-1\">\n        <h6 class=\"font-weight-bolder mb-0\">\n          Total:\n        </h6>\n        <h6 class=\"text-primary font-weight-bolder mb-0\">\n          ${{ totalAmount }}\n        </h6>\n      </div>\n      <b-button\n        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n        variant=\"primary\"\n        block\n        :to=\"{ name: 'apps-e-commerce-checkout' }\"\n      >\n        Checkout\n      </b-button>\n    </li>\n\n    <p\n      v-if=\"!items.length\"\n      class=\"m-0 p-1 text-center\"\n    >\n      Your cart is empty\n    </p>\n  </b-nav-item-dropdown>\n</template>\n\n<script>\nimport {\n  BNavItemDropdown, BBadge, BMedia, BLink, BImg, BFormSpinbutton, BButton,\n} from 'bootstrap-vue'\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\nimport Ripple from 'vue-ripple-directive'\n\nexport default {\n  components: {\n    BNavItemDropdown,\n    BBadge,\n    BMedia,\n    BLink,\n    BImg,\n    BFormSpinbutton,\n    VuePerfectScrollbar,\n    BButton,\n  },\n  directives: {\n    Ripple,\n  },\n  data() {\n    return {\n      items: [],\n      perfectScrollbarSettings: {\n        maxScrollbarLength: 60,\n        wheelPropagation: false,\n      },\n    }\n  },\n  computed: {\n    totalAmount() {\n      let total = 0\n      this.items.forEach(i => { total += i.price })\n      return total\n    },\n  },\n  methods: {\n    fetchItems() {\n      this.$store.dispatch('app-ecommerce/fetchCartProducts')\n        .then(response => {\n          this.items = response.data.products\n        })\n    },\n    removeItemFromCart(productId) {\n      this.$store.dispatch('app-ecommerce/removeProductFromCart', { productId })\n        .then(() => {\n          const itemIndex = this.items.findIndex(p => p.id === productId)\n          this.items.splice(itemIndex, 1)\n\n          // Update count in cart items state\n          this.$store.commit('app-ecommerce/UPDATE_CART_ITEMS_COUNT', this.items.length)\n        })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-cart {\n  .media {\n    .media-aside {\n      align-items: center;\n    }\n  }\n}\n</style>\n"]}]}