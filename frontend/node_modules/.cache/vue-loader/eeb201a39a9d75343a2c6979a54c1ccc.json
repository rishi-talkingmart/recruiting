{"remainingRequest":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue","mtime":1656364945567},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/css-loader/dist/cjs.js","mtime":1656249291853},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1656249292178},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/postcss-loader/src/index.js","mtime":1656249292104},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/sass-loader/dist/cjs.js","mtime":1656249300848},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js","mtime":1656249292178}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJ0Bjb3JlL3Njc3MvdnVlL3BhZ2VzL2Rhc2hib2FyZC1lY29tbWVyY2Uuc2Nzcyc7CkBpbXBvcnQgJ0Bjb3JlL3Njc3MvdnVlL2xpYnMvY2hhcnQtYXBleC5zY3NzJzsK"},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA","file":"Report.vue","sourceRoot":"src/views/UwesReport","sourcesContent":["<template>\n  <section id=\"dashboard-ecommerce\">\n    <average-score :data=\"averageGraphData\" />\n    <b-row class=\"match-height\">\n      <b-col lg=\"4\" v-for=\"graph in attributeGraphData\" :key=\"graph.name\"> <attribute-score :data=\"graph.value\" :name=\"graph.name\" /> </b-col>\n    </b-row>\n  </section>\n</template>\n\n<script>\nimport { BRow, BCol } from 'bootstrap-vue';\nimport AverageScore from './AverageScore.vue';\nimport Vuex from 'vuex';\nimport { getSteps } from '@/@core/api/Form';\nimport AttributeScore from './AttributeScore.vue';\n\nexport default {\n  components: {\n    BRow,\n    BCol,\n    AverageScore,\n    AttributeScore,\n  },\n  mounted() {\n    this.$store.dispatch('uwesReport/getUwesSurveyData');\n  },\n  data() {\n    return {\n      averageGraphData: null,\n      attributeGraphData: [],\n    };\n  },\n  computed: {\n    ...Vuex.mapState('uwesReport', ['uwesSuurveyApiStatus', 'uwesSuurveyData']),\n  },\n  methods: {\n    getGraphData(data) {\n      return data.reduce(\n        (previousValue, currentValue) => {\n          return {\n            total: previousValue.total + parseInt(currentValue.workflows_executed_steps_response),\n            count: previousValue.count + 1,\n            max: parseInt(currentValue.workflow_step_answer_json.options.at(-1)),\n          };\n        },\n        { total: 0, count: 0, max: 0 }\n      );\n    },\n  },\n  watch: {\n    uwesSuurveyApiStatus(newStatus, oldStatus) {\n      if (newStatus === 'fulfilled') {\n        this.averageGraphData = this.getGraphData(this.uwesSuurveyData);\n        getSteps(this.uwesSuurveyData[0].workflow_id).then(({ data }) => {\n          data = data.sort((previous, next) => previous.step_number - next.step_number);\n          data\n            .filter(({ type }) => type === 'divider')\n            .forEach((item) => {\n              console.log(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number));\n              if (this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number).length)\n                this.attributeGraphData.push({\n                  name: item.query,\n                  value: this.getGraphData(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number)),\n                });\n            });\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/pages/dashboard-ecommerce.scss';\n@import '@core/scss/vue/libs/chart-apex.scss';\n</style>\n"]}]}