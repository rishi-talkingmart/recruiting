{"remainingRequest":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Suhan/proj/recruiting/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Suhan/proj/recruiting/frontend/src/views/Home.vue","mtime":1656475707800},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js","mtime":1655207917470},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js","mtime":1656249292178}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi9DaGFydC9TY2F0dGVyQ2hhcnQudnVlJzsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWVQYWdlJywKICBjb21wb25lbnRzOiB7CiAgICBTY2F0dGVyQ2hhcnQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VyaWVzOiBudWxsLAogICAgICBhY3R1YWxfc2VyaWVzOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXREYXRhKCkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCcvZGFzaGJvYXJkJykKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgY29uc3QgRGF0YSA9IGF3YWl0IHRoaXMuZ2V0Rm9ybWF0dGVkKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGxldCBkYXRhID0gW107CiAgICAgICAgZm9yIChsZXQga2V5IGluIERhdGEpCiAgICAgICAgICBkYXRhLnB1c2goRGF0YVtrZXldKQoKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkYXRhKSkKCiAgICAgICAgdGhpcy5zZXJpZXMgPSBhd2FpdCBkYXRhLm1hcChpdGVtID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgZGF0YTogKGl0ZW0uZGF0YS5tYXAoaXRlbSA9PiBpdGVtWzBdKSkuc2lsY2UgKDMpLAogICAgICAgICAgICBjb21wYW55OiBpdGVtLmNvbXBhbnkKICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICB0aGlzLmFjdHVhbF9zZXJpZXMgPSBhd2FpdCB0aGlzLnNlcmllczsKICAgICAgfQoKCiAgICB9LAogICAgYXN5bmMgZ2V0Rm9ybWF0dGVkKERhdGEpIHsKICAgICAgY29uc3QgcmVzID0gRGF0YS5yZWR1Y2UoCiAgICAgICAgKHByZXYsIGN1cnIpID0+IHsKICAgICAgICAKICAgICAgICAgICAgaWYgKHByZXZbY3Vyci5jdXN0b21lcl9uYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgcHJldltjdXJyLmN1c3RvbWVyX25hbWVdID0gewogICAgICAgICAgICAgICAgbmFtZTogY3Vyci5jdXN0b21lcl9uYW1lLAogICAgICAgICAgICAgICAgZGF0YTogW1twYXJzZUludChjdXJyLndvcmtmbG93c19leGVjdXRlZF9zdGVwc19yZXNwb25zZSksIGN1cnIud29ya2Zsb3dfc3RlcF9kaXZpZGVyX2Rlc2NyaXB0aW9uXV0sCiAgICAgICAgICAgICAgICBjb21wYW55OiB0aGlzLmdldENvbXBhbnkoY3Vyci5jdXN0b21lcl9lbWFpbCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhW3ByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhLmxlbmd0aCAtIDFdWzFdID09PSBjdXJyLndvcmtmbG93X3N0ZXBfZGl2aWRlcl9kZXNjcmlwdGlvbikKICAgICAgICAgICAgICAgIHByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhW3ByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhLmxlbmd0aCAtIDFdWzBdID0gKHByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhW3ByZXZbY3Vyci5jdXN0b21lcl9uYW1lXS5kYXRhLmxlbmd0aCAtIDFdWzBdICsgcGFyc2VJbnQoY3Vyci53b3JrZmxvd3NfZXhlY3V0ZWRfc3RlcHNfcmVzcG9uc2UpKSAvIDI7CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBwcmV2W2N1cnIuY3VzdG9tZXJfbmFtZV0uZGF0YS5wdXNoKFtwYXJzZUludChjdXJyLndvcmtmbG93c19leGVjdXRlZF9zdGVwc19yZXNwb25zZSksIGN1cnIud29ya2Zsb3dfc3RlcF9kaXZpZGVyX2Rlc2NyaXB0aW9uXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAKCiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICB9LAogICAgICAgIHt9KTsKCiAgICAgIHJldHVybiByZXM7CgogICAgfSwKICAgIGdldENvbXBhbnkoZW1haWwpIHsKICAgICAgcmV0dXJuIChlbWFpbC5zcGxpdCgnQCcpKVsxXQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;AAQA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n\n    <scatter-chart :data=\"actual_series\" />\n  </div>\n</template>\n\n<script>\nimport ScatterChart from './Chart/ScatterChart.vue';\n\n\nexport default {\n  name: 'HomePage',\n  components: {\n    ScatterChart,\n  },\n  data() {\n    return {\n      series: null,\n      actual_series: null\n    }\n  },\n  methods: {\n    async getData() {\n      const response = await this.$http.get('/dashboard')\n      if (response.status === 200) {\n        const Data = await this.getFormatted(response.data);\n        let data = [];\n        for (let key in Data)\n          data.push(Data[key])\n\n        console.log(JSON.stringify(data))\n\n        this.series = await data.map(item => {\n          return {\n            name: item.name,\n            data: (item.data.map(item => item[0])).silce (3),\n            company: item.company\n          }\n        })\n\n        this.actual_series = await this.series;\n      }\n\n\n    },\n    async getFormatted(Data) {\n      const res = Data.reduce(\n        (prev, curr) => {\n        \n            if (prev[curr.customer_name] === undefined) {\n              prev[curr.customer_name] = {\n                name: curr.customer_name,\n                data: [[parseInt(curr.workflows_executed_steps_response), curr.workflow_step_divider_description]],\n                company: this.getCompany(curr.customer_email)\n              }\n            } else {\n              if (prev[curr.customer_name].data[prev[curr.customer_name].data.length - 1][1] === curr.workflow_step_divider_description)\n                prev[curr.customer_name].data[prev[curr.customer_name].data.length - 1][0] = (prev[curr.customer_name].data[prev[curr.customer_name].data.length - 1][0] + parseInt(curr.workflows_executed_steps_response)) / 2;\n              else {\n                prev[curr.customer_name].data.push([parseInt(curr.workflows_executed_steps_response), curr.workflow_step_divider_description]);\n              }\n            \n\n          }\n          return prev;\n        },\n        {});\n\n      return res;\n\n    },\n    getCompany(email) {\n      return (email.split('@'))[1]\n    }\n  },\n  mounted() {\n    this.getData();\n  }\n\n};\n</script>\n\n<style>\n</style>\n"]}]}