{"remainingRequest":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/Suhan/proj/recruiting/frontend/src/views/UwesReport/Report.vue","mtime":1656364945567},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/babel-loader/lib/index.js","mtime":1655207917470},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1656249272602},{"path":"/home/Suhan/proj/recruiting/frontend/node_modules/vue-loader/lib/index.js","mtime":1656249292178}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEJSb3csIEJDb2wgfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IEF2ZXJhZ2VTY29yZSBmcm9tICcuL0F2ZXJhZ2VTY29yZS52dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0U3RlcHMgfSBmcm9tICdAL0Bjb3JlL2FwaS9Gb3JtJzsKaW1wb3J0IEF0dHJpYnV0ZVNjb3JlIGZyb20gJy4vQXR0cmlidXRlU2NvcmUudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCUm93LAogICAgQkNvbCwKICAgIEF2ZXJhZ2VTY29yZSwKICAgIEF0dHJpYnV0ZVNjb3JlLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1d2VzUmVwb3J0L2dldFV3ZXNTdXJ2ZXlEYXRhJyk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXZlcmFnZUdyYXBoRGF0YTogbnVsbCwKICAgICAgYXR0cmlidXRlR3JhcGhEYXRhOiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4uVnVleC5tYXBTdGF0ZSgndXdlc1JlcG9ydCcsIFsndXdlc1N1dXJ2ZXlBcGlTdGF0dXMnLCAndXdlc1N1dXJ2ZXlEYXRhJ10pLAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0R3JhcGhEYXRhKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEucmVkdWNlKAogICAgICAgIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUpID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRvdGFsOiBwcmV2aW91c1ZhbHVlLnRvdGFsICsgcGFyc2VJbnQoY3VycmVudFZhbHVlLndvcmtmbG93c19leGVjdXRlZF9zdGVwc19yZXNwb25zZSksCiAgICAgICAgICAgIGNvdW50OiBwcmV2aW91c1ZhbHVlLmNvdW50ICsgMSwKICAgICAgICAgICAgbWF4OiBwYXJzZUludChjdXJyZW50VmFsdWUud29ya2Zsb3dfc3RlcF9hbnN3ZXJfanNvbi5vcHRpb25zLmF0KC0xKSksCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgeyB0b3RhbDogMCwgY291bnQ6IDAsIG1heDogMCB9CiAgICAgICk7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHV3ZXNTdXVydmV5QXBpU3RhdHVzKG5ld1N0YXR1cywgb2xkU3RhdHVzKSB7CiAgICAgIGlmIChuZXdTdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7CiAgICAgICAgdGhpcy5hdmVyYWdlR3JhcGhEYXRhID0gdGhpcy5nZXRHcmFwaERhdGEodGhpcy51d2VzU3V1cnZleURhdGEpOwogICAgICAgIGdldFN0ZXBzKHRoaXMudXdlc1N1dXJ2ZXlEYXRhWzBdLndvcmtmbG93X2lkKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgZGF0YSA9IGRhdGEuc29ydCgocHJldmlvdXMsIG5leHQpID0+IHByZXZpb3VzLnN0ZXBfbnVtYmVyIC0gbmV4dC5zdGVwX251bWJlcik7CiAgICAgICAgICBkYXRhCiAgICAgICAgICAgIC5maWx0ZXIoKHsgdHlwZSB9KSA9PiB0eXBlID09PSAnZGl2aWRlcicpCiAgICAgICAgICAgIC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy51d2VzU3V1cnZleURhdGEuZmlsdGVyKChyZXNwb25zZSkgPT4gcmVzcG9uc2Uud29ya2Zsb3dfc3RlcF9kaXZpZGVyX251bSA9PT0gaXRlbS5zdGVwX251bWJlcikpOwogICAgICAgICAgICAgIGlmICh0aGlzLnV3ZXNTdXVydmV5RGF0YS5maWx0ZXIoKHJlc3BvbnNlKSA9PiByZXNwb25zZS53b3JrZmxvd19zdGVwX2RpdmlkZXJfbnVtID09PSBpdGVtLnN0ZXBfbnVtYmVyKS5sZW5ndGgpCiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZUdyYXBoRGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5xdWVyeSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuZ2V0R3JhcGhEYXRhKHRoaXMudXdlc1N1dXJ2ZXlEYXRhLmZpbHRlcigocmVzcG9uc2UpID0+IHJlc3BvbnNlLndvcmtmbG93X3N0ZXBfZGl2aWRlcl9udW0gPT09IGl0ZW0uc3RlcF9udW1iZXIpKSwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Report.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Report.vue","sourceRoot":"src/views/UwesReport","sourcesContent":["<template>\n  <section id=\"dashboard-ecommerce\">\n    <average-score :data=\"averageGraphData\" />\n    <b-row class=\"match-height\">\n      <b-col lg=\"4\" v-for=\"graph in attributeGraphData\" :key=\"graph.name\"> <attribute-score :data=\"graph.value\" :name=\"graph.name\" /> </b-col>\n    </b-row>\n  </section>\n</template>\n\n<script>\nimport { BRow, BCol } from 'bootstrap-vue';\nimport AverageScore from './AverageScore.vue';\nimport Vuex from 'vuex';\nimport { getSteps } from '@/@core/api/Form';\nimport AttributeScore from './AttributeScore.vue';\n\nexport default {\n  components: {\n    BRow,\n    BCol,\n    AverageScore,\n    AttributeScore,\n  },\n  mounted() {\n    this.$store.dispatch('uwesReport/getUwesSurveyData');\n  },\n  data() {\n    return {\n      averageGraphData: null,\n      attributeGraphData: [],\n    };\n  },\n  computed: {\n    ...Vuex.mapState('uwesReport', ['uwesSuurveyApiStatus', 'uwesSuurveyData']),\n  },\n  methods: {\n    getGraphData(data) {\n      return data.reduce(\n        (previousValue, currentValue) => {\n          return {\n            total: previousValue.total + parseInt(currentValue.workflows_executed_steps_response),\n            count: previousValue.count + 1,\n            max: parseInt(currentValue.workflow_step_answer_json.options.at(-1)),\n          };\n        },\n        { total: 0, count: 0, max: 0 }\n      );\n    },\n  },\n  watch: {\n    uwesSuurveyApiStatus(newStatus, oldStatus) {\n      if (newStatus === 'fulfilled') {\n        this.averageGraphData = this.getGraphData(this.uwesSuurveyData);\n        getSteps(this.uwesSuurveyData[0].workflow_id).then(({ data }) => {\n          data = data.sort((previous, next) => previous.step_number - next.step_number);\n          data\n            .filter(({ type }) => type === 'divider')\n            .forEach((item) => {\n              console.log(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number));\n              if (this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number).length)\n                this.attributeGraphData.push({\n                  name: item.query,\n                  value: this.getGraphData(this.uwesSuurveyData.filter((response) => response.workflow_step_divider_num === item.step_number)),\n                });\n            });\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/pages/dashboard-ecommerce.scss';\n@import '@core/scss/vue/libs/chart-apex.scss';\n</style>\n"]}]}