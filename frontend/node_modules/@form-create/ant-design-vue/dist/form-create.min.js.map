{"version":3,"file":"form-create.min.js","sources":["../../../node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","../../utils/lib/tostring.js","../../utils/lib/modify.js","../../utils/lib/type.js","../../utils/lib/deepextend.js","../../utils/lib/toarray.js","../../utils/lib/slot.js","../../../components/ant-design-vue/upload/src/component.jsx","../../../node_modules/style-inject/dist/style-inject.es.js","../../../components/ant-design-vue/frame/src/component.jsx","../../utils/lib/extend.js","../../../components/ant-design-vue/group/src/component.jsx","../../../components/common/subform/src/component.jsx","../src/components/index.js","../src/parsers/checkbox.js","../src/parsers/radio.js","../src/parsers/select.js","../../core/src/components/formCreate.js","../../utils/lib/mergeprops.js","../../core/src/frame/attrs.js","../../utils/lib/console.js","../../utils/lib/json.js","../../core/src/frame/util.js","../../core/src/factory/creator.js","../../core/src/factory/maker.js","../../core/src/frame/api.js","../../core/src/render/cache.js","../../utils/lib/tocase.js","../../utils/lib/toline.js","../../utils/lib/unique.js","../../utils/lib/deepset.js","../../core/src/render/render.js","../../core/src/render/index.js","../../core/src/handler/inject.js","../../core/src/handler/page.js","../../core/src/handler/render.js","../../core/src/factory/context.js","../../core/src/handler/loader.js","../../core/src/handler/input.js","../../core/src/factory/parser.js","../../core/src/handler/context.js","../../core/src/handler/lifecycle.js","../../core/src/handler/effect.js","../../core/src/handler/index.js","../../core/src/frame/fetch.js","../../core/src/components/fragment.js","../../core/src/factory/node.js","../../core/src/factory/manager.js","../../core/src/frame/provider.js","../../core/src/parser/html.js","../../core/src/frame/index.js","../src/parsers/datePicker.js","../src/parsers/hidden.js","../src/parsers/input.js","../src/parsers/timePicker.js","../src/parsers/tree.js","../src/parsers/row.js","../src/parsers/index.js","../src/core/alias.js","../src/core/config.js","../src/core/manager.js","../src/core/maker.js","../src/core/api.js","../src/core/index.js","../src/index.js"],"sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","export default function toString(val) {\n    return val == null\n        ? ''\n        : typeof val === 'object'\n            ? JSON.stringify(val, null, 2)\n            : String(val)\n}\n","import Vue from 'vue';\n\nexport function $set(target, field, value) {\n    Vue.set(target, field, value);\n}\n\nexport function $del(target, field) {\n    Vue.delete(target, field);\n}\n","const is = {\n    type(arg, type) {\n        return Object.prototype.toString.call(arg) === '[object ' + type + ']'\n    },\n    Undef(v) {\n        return v === undefined || v === null\n    },\n    Element(arg) {\n        return typeof arg === 'object' && arg !== null && arg.nodeType === 1 && !is.Object(arg)\n    },\n    trueArray(data) {\n        return Array.isArray(data) && data.length > 0;\n    },\n    Function(v) {\n        const type = this.getType(v);\n        return type === 'Function' || type === 'AsyncFunction';\n    },\n    getType(v) {\n        const str = Object.prototype.toString.call(v)\n        return /^\\[object (.*)\\]$/.exec(str)[1]\n    },\n    empty(value) {\n        if (value === undefined || value === null) {\n            return true;\n        }\n\n        if (Array.isArray(value) && Array.isArray(value) && !value.length) {\n            return true;\n        }\n\n        return typeof value === 'string' && !value;\n    }\n};\n\n['Date', 'Object', 'String', 'Boolean', 'Array', 'Number'].forEach(t => {\n    is[t] = function (arg) {\n        return is.type(arg, t);\n    }\n})\n\nexport function hasProperty(rule, k) {\n    return ({}).hasOwnProperty.call(rule, k)\n}\n\nexport default is;\n","import {$set} from './modify';\nimport is from './type';\n\nexport default function deepExtend(origin, target = {}, mode) {\n    let isArr = false;\n    for (let key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n            let clone = target[key];\n            if ((isArr = Array.isArray(clone)) || is.Object(clone)) {\n                let nst = origin[key] === undefined;\n                if (isArr) {\n                    isArr = false;\n                    nst && $set(origin, key, []);\n                } else if (clone._clone && mode !== undefined) {\n                    if (mode) {\n                        clone = clone.getRule();\n                        nst && $set(origin, key, {});\n                    } else {\n                        $set(origin, key, clone._clone());\n                        continue;\n                    }\n                } else {\n                    nst && $set(origin, key, {});\n                }\n                origin[key] = deepExtend(origin[key], clone, mode);\n            } else {\n                $set(origin, key, clone);\n                if (!is.Undef(clone)) {\n                    if (!is.Undef(clone.__json)) {\n                        origin[key].__json = clone.__json;\n                    }\n                    if (!is.Undef(clone.__origin)) {\n                        origin[key].__origin = clone.__origin;\n                    }\n                }\n            }\n        }\n    }\n    return (mode !== undefined && Array.isArray(origin)) ? origin.filter(v => !v || !v.__ctrl) : origin\n}\n\nexport function deepCopy(value) {\n    return deepExtend({}, {value}).value;\n}\n\nexport function deepExtendArgs(origin, ...lst) {\n    lst.forEach(target => {\n        origin = deepExtend(origin, target);\n    });\n    return origin;\n}\n","export default function toArray(value) {\n    return Array.isArray(value)\n        ? value\n        : ([null, undefined, ''].indexOf(value) > -1 ? [] : [value]);\n}\n","export default function getSlot(slots, exclude) {\n    return Object.keys(slots).reduce((lst, name) => {\n        if (!exclude || exclude.indexOf(name) === -1) {\n            lst.push(slots[name])\n        }\n        return lst;\n    }, [])\n}","import toString from '@form-create/utils/lib/tostring';\nimport deepExtend from '@form-create/utils/lib/deepextend';\nimport toArray from '@form-create/utils/lib/toarray';\nimport getSlot from '@form-create/utils/lib/slot';\n\nconst parseFile = function (file, uid) {\n        return {\n            url: file,\n            name: getFileName(file),\n            status: 'done',\n            uid: uid + 1\n        };\n    }, getFileName = function (file) {\n        return toString(file).split('/').pop()\n    }, parseUpload = function (file) {\n        return {url: file.url, file};\n    };\n\nconst NAME = 'fcUpload';\n\nexport default {\n    name: NAME,\n    formCreateParser: {\n        toFormValue(value) {\n            return toArray(value);\n        },\n        toValue(formValue,ctx) {\n            return ctx.prop.props.limit === 1 ? (formValue[0] || '') : formValue;\n        }\n    },\n    props: {\n        limit: {\n            type: Number,\n            default: 0\n        },\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        value: {\n            type: Array,\n            default: () => []\n        },\n        onSuccess: {\n            type: Function,\n            required: true\n        },\n        onHandle: {\n            type: Function,\n            default: function (file) {\n                this.previewImage = file.url;\n                this.previewVisible = true;\n            }\n        },\n        modalTitle: String,\n        previewMask: undefined,\n    },\n    data() {\n        const fileList = this.value.map(parseFile);\n        return {\n            defaultUploadList: fileList,\n            previewImage: '',\n            previewVisible: false,\n            uploadList: fileList.map(parseUpload)\n        };\n    },\n    watch: {\n        value(n) {\n            const fileList = n.map(parseFile);\n            this.$refs.upload.sFileList = fileList;\n            this.uploadList = fileList.map(parseUpload)\n        }\n    },\n    methods: {\n        handleChange({file, fileList}) {\n            const list = this.uploadList;\n            if (file.status === 'done') {\n                this.onSuccess(file, fileList);\n                if (file.url) list.push({\n                    url: file.url,\n                    file: fileList[fileList.length - 1]\n                });\n                this.input();\n            } else if (file.status === 'removed') {\n                list.forEach((v, i) => {\n                    if (v.file === file) {\n                        list.splice(i, 1);\n                    }\n                });\n                this.input();\n            }\n        },\n        input() {\n            this.$emit('input', this.uploadList.map(v => v.url));\n        },\n\n    },\n    render() {\n        const isShow = (!this.limit || this.limit > this.uploadList.length);\n        const ctx = {...this.formCreateInject.prop};\n        ctx.on = deepExtend({}, ctx.on || {});\n        return <div>\n            <AUpload {...ctx} on-preview={this.onHandle.bind(this)}\n                on-change={this.handleChange}\n                ref=\"upload\" defaultFileList={this.defaultUploadList}>\n                {isShow ? <template slot=\"default\">{this.$slots.default || <AIcon type=\"plus\"/>}</template> : null}{getSlot(this.$slots, ['default'])}\n            </AUpload>\n            <aModal mask={this.previewMask} title={this.modalTitle} v-model={this.previewVisible} footer={null}>\n                <img style=\"width: 100%\" src={this.previewImage}/>\n            </aModal>\n        </div>;\n    }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import toArray from '@form-create/utils/lib/toarray';\nimport './style.css';\n\nconst NAME = 'fcFrame';\n\nexport default {\n    name: NAME,\n    props: {\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        type: {\n            type: String,\n            default: 'input'\n        },\n        field: String,\n        helper: {\n            type: Boolean,\n            default: true\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        src: {\n            type: String,\n            required: true\n        },\n        icon: {\n            type: String,\n            default: 'folder'\n        },\n        width: {\n            type: [Number, String],\n            default: 500\n        },\n        height: {\n            type: String,\n            default: '370px'\n        },\n        maxLength: {\n            type: Number,\n            default: 0\n        },\n        okBtnText: {\n            type: String,\n            default: '确定'\n        },\n        closeBtnText: {\n            type: String,\n            default: '关闭'\n        },\n        modalTitle: String,\n        handleIcon: {\n            type: [String, Boolean],\n            default: undefined\n        },\n        title: String,\n        allowRemove: {\n            type: Boolean,\n            default: true\n        },\n        onOpen: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onOk: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onCancel: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onLoad: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onBeforeRemove: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onRemove: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onHandle: {\n            type: Function,\n            default(src) {\n                this.previewImage = this.getSrc(src);\n                this.previewVisible = true;\n            }\n        },\n        modal: {\n            type: Object,\n            default: () => ({})\n        },\n        srcKey: {\n            type: [String, Number]\n        },\n        value: [Array, String, Number, Object],\n        previewMask: undefined,\n        footer: {\n            type: Boolean,\n            default: true\n        },\n        reload: {\n            type: Boolean,\n            default: true\n        },\n        closeBtn: {\n            type: Boolean,\n            default: true\n        },\n        okBtn: {\n            type: Boolean,\n            default: true\n        },\n\n    },\n    data() {\n        return {\n            fileList: toArray(this.value),\n            previewVisible: false,\n            frameVisible: false,\n            previewImage: ''\n        }\n    },\n    watch: {\n        value(n) {\n            this.fileList = toArray(n);\n        },\n        fileList(n) {\n            const val = this.maxLength === 1 ? (n[0] || '') : n;\n            this.$emit('input', val);\n            this.$emit('change', val);\n        }\n    },\n    methods: {\n        key(unique) {\n            return unique;\n        },\n        closeModal(close) {\n            this.$emit(close ? '$close' : '$ok');\n            if (this.reload) {\n                this.$off('$ok');\n                this.$off('$close');\n            }\n            this.frameVisible = false;\n        },\n\n        showModal() {\n            if (this.disabled || false === this.onOpen()) return;\n            this.frameVisible = true;\n        },\n\n        makeInput() {\n            const props = {\n                type: 'text',\n                value: (this.fileList.map(v => this.getSrc(v))).toString(),\n                readonly: true\n            };\n\n            return <AInput props={props} key={this.key('input')}>\n                <AIcon type={this.icon} slot=\"addonAfter\" on-click={this.showModal}/>\n                {this.fileList.length ?\n                    <AIcon type=\"close-circle\" slot=\"suffix\" on-click={() => this.fileList = []}/> : null}\n            </AInput>\n        },\n\n        makeGroup(children) {\n            if (!this.maxLength || this.fileList.length < this.maxLength)\n                children.push(this.makeBtn());\n            return <div key={this.key('group')}>{...children}</div>\n        },\n\n        makeItem(index, children) {\n            return <div class='fc-files' key={this.key('file' + index)}>{...children}</div>;\n        },\n        valid(f) {\n            const field = this.formCreateInject.field || this.field;\n            if (field && f !== field)\n                throw new Error('[frame]无效的字段值');\n        },\n\n        makeIcons(val, index) {\n            if (this.handleIcon !== false || this.allowRemove === true) {\n                const icons = [];\n                if ((this.type !== 'file' && this.handleIcon !== false) || (this.type === 'file' && this.handleIcon))\n                    icons.push(this.makeHandleIcon(val, index));\n                if (this.allowRemove)\n                    icons.push(this.makeRemoveIcon(val, index));\n\n                return <div class='fc-upload-cover' key={this.key('uc')}>{icons}</div>\n            }\n        },\n        makeHandleIcon(val, index) {\n            return <AIcon\n                type={(this.handleIcon === true || this.handleIcon === undefined) ? 'eye-o' : this.handleIcon}\n                on-click={() => this.handleClick(val)} key={this.key('hi' + index)}/>\n        },\n\n        makeRemoveIcon(val, index) {\n            return <AIcon type=\"delete\" on-click={() => this.handleRemove(val)} key={this.key('ri' + index)}/>\n        },\n\n        makeFiles() {\n            return this.makeGroup(this.fileList.map((src, index) => {\n                return this.makeItem(index, [<AIcon type=\"file\"\n                    on-click={() => this.handleClick(src)}/>, this.makeIcons(src, index)])\n            }))\n        },\n        makeImages() {\n            return this.makeGroup(this.fileList.map((src, index) => {\n                return this.makeItem(index, [<img src={this.getSrc(src)}/>, this.makeIcons(src, index)])\n            }))\n        },\n        makeBtn() {\n            return <div class='fc-upload-btn' on-click={() => this.showModal()} key={this.key('btn')}>\n                <AIcon type={this.icon} theme=\"filled\"/>\n            </div>\n        },\n        handleClick(src) {\n            return this.onHandle(src);\n        },\n        handleRemove(src) {\n            if (this.disabled) return;\n            if (false !== this.onBeforeRemove(src)) {\n                this.fileList.splice(this.fileList.indexOf(src), 1);\n                this.onRemove(src);\n            }\n        },\n        getSrc(src) {\n            return !this.srcKey ? src : src[this.srcKey];\n        },\n        frameLoad(iframe) {\n            this.onLoad(iframe);\n            try {\n                if (this.helper === true) {\n                    iframe['form_create_helper'] = {\n                        api: this.formCreateInject.api,\n                        close: (field) => {\n                            this.valid(field);\n                            this.closeModal();\n                        },\n                        set: (field, value) => {\n                            this.valid(field);\n                            if (!this.disabled)\n                                this.$emit('input', value);\n\n                        },\n                        get: (field) => {\n                            this.valid(field);\n                            return this.value;\n                        },\n                        onOk: fn => this.$on('$ok', fn),\n                        onClose: fn => this.$on('$close', fn)\n                    };\n\n                }\n            } catch (e) {\n                console.log(e);\n            }\n        },\n        makeFooter() {\n            const {okBtnText, closeBtnText, closeBtn, okBtn, footer} = this.$props;\n\n            const node = [];\n            if (!footer) return node;\n\n            if (closeBtn)\n                node.push(<AButton\n                    on-click={() => (this.onCancel() !== false && this.closeModal(true))}>{closeBtnText}</AButton>);\n            if (okBtn)\n                node.push(<AButton type=\"primary\"\n                    on-click={() => (this.onOk() !== false && this.closeModal())}>{okBtnText}</AButton>);\n            return node;\n        }\n    },\n    render() {\n        const type = this.type;\n        let Node;\n        if (type === 'input')\n            Node = this.makeInput();\n        else if (type === 'image')\n            Node = this.makeImages();\n        else\n            Node = this.makeFiles();\n\n        const {width = '30%', height, src, title, modalTitle} = this.$props;\n        this.$nextTick(() => {\n            if (this.$refs.frame) {\n                this.frameLoad(this.$refs.frame.contentWindow || {});\n            }\n        });\n        return <div class=\"_fc-frame\">{Node}\n            <aModal mask={this.previewMask} title={modalTitle} v-model={this.previewVisible} footer={null}>\n                <img style=\"width: 100%\" src={this.previewImage}/>\n            </aModal>\n            <aModal {...{width, title, ...this.modal}} visible={this.frameVisible}\n                on-cancel={() => (this.closeModal(true))}>\n                {(this.frameVisible || !this.reload) ? <iframe ref=\"frame\" src={src} frameborder=\"0\" style={{\n                    'height': height,\n                    'border': '0 none',\n                    'width': '100%'\n                }}/> : null}\n                <div slot=\"footer\">\n                    {this.makeFooter()}\n                </div>\n            </aModal>\n        </div>\n    },\n    mounted() {\n        this.$on('fc.closeModal', this.closeModal);\n    }\n}\n","import {$set} from './modify';\n\nconst _extends = Object.assign || function (a) {\n    for (let b, c = 1; c < arguments.length; c++) {\n        for (let d in b = arguments[c], b) {\n            Object.prototype.hasOwnProperty.call(b, d) && ($set(a, d, b[d]));\n        }\n    }\n\n    return a;\n}\n\nexport default function extend() {\n    return _extends.apply(this, arguments);\n}\n\nexport function copy(obj) {\n    if (typeof obj !== 'object' || obj === null) return obj;\n    return obj instanceof Array ? [...obj] : {...obj};\n}\n","import {hasProperty} from '@form-create/utils/lib/type';\nimport deepExtend, {deepCopy} from '@form-create/utils/lib/deepextend';\nimport extend from '@form-create/utils/lib/extend';\n\nconst NAME = 'fcGroup';\n\nexport default {\n    name: NAME,\n    props: {\n        field: String,\n        rule: [Array, Object],\n        rules: Array,\n        expand: Number,\n        options: Object,\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        button: {\n            type: Boolean,\n            default: true\n        },\n        max: {\n            type: Number,\n            default: 0\n        },\n        min: {\n            type: Number,\n            default: 0\n        },\n        value: {\n            type: Array,\n            default: () => []\n        },\n        defaultValue: Object,\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        syncDisabled: {\n            type: Boolean,\n            default: true\n        },\n        fontSize: {\n            type: Number,\n            default: 28\n        },\n        onBeforeRemove: {\n            type: Function,\n            default: () => {\n            }\n        },\n        onBeforeAdd: {\n            type: Function,\n            default: () => {\n            }\n        },\n    },\n    data() {\n        return {\n            len: 0,\n            cacheRule: {},\n            cacheValue: {},\n            type: undefined\n        }\n    },\n    computed: {\n        formRule() {\n            if (this.rules) {\n                return this.rules;\n            }\n            if (this.rule) {\n                return Array.isArray(this.rule) ? this.rule : [this.rule];\n            }\n            return [];\n        }\n    },\n    watch: {\n        formRule: {\n            handler(n, o) {\n                Object.keys(this.cacheRule).forEach(v => {\n                    const item = this.cacheRule[v];\n                    if (n === o) {\n                        deepExtend(item.rule, n)\n                    } else {\n                        const val = item.$f.formData();\n                        item.$f.once('reload', () => {\n                            item.$f.setValue(val);\n                        })\n                        item.rule = deepCopy(n);\n                    }\n                })\n            },\n            deep: true\n        },\n        disabled(n) {\n            if (this.syncDisabled) {\n                const lst = this.cacheRule;\n                Object.keys(lst).forEach(k => {\n                    lst[k].$f.disabled(n);\n                })\n            }\n        },\n        expand(n) {\n            let d = n - this.value.length;\n            if (d > 0) {\n                this.expandRule(d);\n            }\n        },\n        value(n) {\n            n = n || [];\n            let keys = Object.keys(this.cacheRule), total = keys.length, len = total - n.length;\n            if (len < 0) {\n                for (let i = len; i < 0; i++) {\n                    this.addRule(n.length + i);\n                }\n                for (let i = 0; i < total; i++) {\n                    this.setValue(keys[i], n[i]);\n                }\n            } else {\n                if (len > 0) {\n                    for (let i = 0; i < len; i++) {\n                        this.removeRule(keys[total - i - 1]);\n                    }\n                }\n                n.forEach((val, i) => {\n                    this.setValue(keys[i], n[i]);\n                });\n            }\n        }\n    },\n    methods: {\n        _value(v) {\n            return (v && hasProperty(v, this.field)) ? v[this.field] : v;\n        },\n        cache(k, val) {\n            this.cacheValue[k] = JSON.stringify(val);\n        },\n        input(value) {\n            this.$emit('input', value);\n            this.$emit('change', value);\n        },\n        formData(key, formData) {\n            const cacheRule = this.cacheRule;\n            const keys = Object.keys(cacheRule);\n            if (keys.filter(k => cacheRule[k].$f).length !== keys.length) {\n                return;\n            }\n            const value = keys.map(k => {\n                const data = key === k ? formData : {...this.cacheRule[k].$f.form};\n                const value = this.field ? data[this.field] || null : data;\n                this.cache(k, value);\n                return value;\n            });\n            this.input(value);\n        },\n        setValue(key, value) {\n            const field = this.field, $f = this.cacheRule[key].$f;\n            if (field) {\n                value = {[field]: this._value(value)};\n            }\n            if (this.cacheValue[key] === JSON.stringify(field ? value[field] : value)) {\n                return;\n            }\n            this.cache(key, value);\n            $f.coverValue(value || {});\n        },\n        addRule(i, emit) {\n            const rule = this.formCreateInject.form.copyRules(this.formRule);\n            const options = this.options ? {...this.options} : {\n                submitBtn: false,\n                resetBtn: false,\n            };\n            if (this.defaultValue) {\n                if (!options.formData) options.formData = {};\n                const defVal = deepCopy(this.defaultValue);\n                extend(options.formData, this.field ? {[this.field]: defVal} : defVal);\n            }\n            this.$set(this.cacheRule, ++this.len, {rule, options});\n            if (emit) {\n                this.$nextTick(() => this.$emit('add', rule, Object.keys(this.cacheRule).length - 1));\n            }\n        },\n        add$f(i, key, $f) {\n            this.cacheRule[key].$f = $f;\n            this.formData(key, $f.formData());\n            this.$nextTick(() => {\n                if (this.syncDisabled) {\n                    $f.disabled(this.disabled);\n                }\n                this.$emit('itemMounted', $f, Object.keys(this.cacheRule).indexOf(key));\n            });\n        },\n        removeRule(key, emit) {\n            const index = Object.keys(this.cacheRule).indexOf(key);\n            this.$delete(this.cacheRule, key);\n            this.$delete(this.cacheValue, key);\n            if (emit) {\n                this.$nextTick(() => this.$emit('remove', index));\n            }\n        },\n        add(i) {\n            if (this.disabled || false === this.onBeforeAdd(this.value)) {\n                return;\n            }\n            this.addRule(i, true);\n        },\n        del(index, key) {\n            if (this.disabled || false === this.onBeforeRemove(this.value, index)) {\n                return;\n            }\n            this.removeRule(key, true);\n            this.value.splice(index, 1);\n            this.input(this.value);\n        },\n        addIcon(key) {\n            return <AIcon key={`a${key}`} type=\"plus-circle\"\n                style={`font-size:${this.fontSize}px;cursor:${this.disabled ? 'not-allowed;color:#c9cdd4' : 'pointer'};`}\n                on-click={this.add}/>;\n        },\n        delIcon(index, key) {\n            return <AIcon key={`d${key}`} type=\"minus-circle\"\n                style={`font-size:${this.fontSize}px;cursor:${this.disabled ? 'not-allowed;color:#c9cdd4' : 'pointer;color:#606266'};`}\n                on-click={() => this.del(index, key)}/>;\n        },\n        makeIcon(total, index, key) {\n            if (this.$scopedSlots.button) {\n                return this.$scopedSlots.button({\n                    total,\n                    index,\n                    vm: this,\n                    key,\n                    del: () => this.del(index, key),\n                    add: this.add\n                });\n            }\n            if (index === 0) {\n                return [(this.max !== 0 && total >= this.max) ? null : this.addIcon(key), (this.min === 0 || total > this.min) ? this.delIcon(index, key) : null];\n            }\n            if (index >= this.min) {\n                return this.delIcon(index, key);\n            }\n        },\n        emitEvent(name, args, index, key) {\n            this.$emit(name, ...args, this.cacheRule[key].$f, index);\n        },\n        expandRule(n) {\n            for (let i = 0; i < n; i++) {\n                this.value.push(this.field ? null : {});\n            }\n        }\n    },\n    created() {\n        this.type = this.formCreateInject.form.$form();\n        const d = (this.expand || 0) - this.value.length;\n        if (d > 0) {\n            this.expandRule(d);\n        }\n        for (let i = 0; i < this.value.length; i++) {\n            this.addRule(i);\n        }\n    },\n    render() {\n        const keys = Object.keys(this.cacheRule);\n        const button = this.button;\n        const Type = this.type;\n        return keys.length === 0 ?\n            (this.$scopedSlots.default ? (this.$scopedSlots.default({\n                vm: this,\n                add: this.add\n            })) : <AIcon key={'a_def'} type=\"plus-circle\"\n                style={`font-size:${this.fontSize}px;vertical-align:middle;color:${this.disabled ? '#c9cdd4;cursor: not-allowed' : '#606266;cursor:pointer'};`}\n                on-click={this.add}/>) :\n            <div key={'con'}>{keys.map((key, index) => {\n                const {rule, options} = this.cacheRule[key];\n                return <ARow align=\"middle\" type=\"flex\" key={key}\n                    style=\"border-bottom:1px dashed #d9d9d9;margin-bottom:10px;\">\n                    <ACol span={button ? 20 : 24}><Type\n                        key={key} inFor={true}\n                        on={{\n                            'update:value': (formData) => this.formData(key, formData),\n                            'emit-event': (name, ...args) => this.emitEvent(name, args, index, key),\n                            input: ($f) => this.add$f(index, key, $f)\n                        }}\n                        value={this.field ? {[this.field]: this._value(this.value[index])} : this.value[index]}\n                        rule={rule}\n                        option={options} extendOption={true}/></ACol>\n                    {button ? <ACol span={2} pull={1} push={1}>{this.makeIcon(keys.length, index, key)}</ACol> : null}\n                </ARow>\n            })}</div>\n    }\n}\n","const NAME = 'fcSubForm';\n\nexport default {\n    name: NAME,\n    props: {\n        rule: Array,\n        options: Object,\n        formCreateInject: {\n            type: Object,\n            required: true,\n        },\n        value: {\n            type: Object,\n            default: () => ({})\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        syncDisabled: {\n            type: Boolean,\n            default: true\n        },\n    },\n    data() {\n        return {\n            cacheRule: {},\n            cacheValue: {},\n            type: undefined\n        }\n    },\n    watch: {\n        disabled(n) {\n            this.syncDisabled && this.cacheRule.$f.disabled(n);\n        },\n        value(n) {\n            this.setValue(n);\n        }\n    },\n    methods: {\n        formData(value) {\n            this.cacheValue = JSON.stringify(value);\n            this.$emit('input', value);\n            this.$emit('change', value);\n        },\n        setValue(value) {\n            const str = JSON.stringify(value);\n            if (this.cacheValue === str) {\n                return;\n            }\n            this.cacheValue = str;\n            this.cacheRule.$f.coverValue(value || {});\n        },\n        addRule() {\n            const options = this.options ? this.options : {\n                submitBtn: false,\n                resetBtn: false,\n            };\n            options.formData = {...(this.value || {})};\n            this.cacheRule = {rule: this.rule, options};\n        },\n        add$f($f) {\n            this.cacheRule.$f = $f;\n            this.$nextTick(() => {\n                this.syncDisabled && $f.disabled(this.disabled);\n                this.$emit('itemMounted', $f);\n            });\n        },\n        emitEvent(name, ...args) {\n            this.$emit(name, ...args);\n        }\n    },\n    created() {\n        this.addRule();\n        this.type = this.formCreateInject.form.$form();\n    },\n    render() {\n        const {rule, options} = this.cacheRule;\n        const Type = this.type;\n        return <Type\n            on={{\n                'update:value': this.formData,\n                'emit-event': this.emitEvent,\n                input: this.add$f\n            }}\n            rule={rule}\n            option={options} extendOption={true}/>\n    }\n}\n","import upload from '@form-create/component-antdv-upload/src/index'\nimport frame from '@form-create/component-antdv-frame/src/index'\nimport group from '@form-create/component-antdv-group/src/index'\nimport subForm from '@form-create/component-subform/src/index'\n\nexport default [\n    upload, frame, group, subForm\n]\n","import {hasProperty} from '@form-create/utils/lib/type';\n\nexport default {\n    name: 'checkbox',\n    mergeProp(ctx) {\n        const props = ctx.prop.props;\n        if (!hasProperty(props, 'options'))\n            props.options = ctx.prop.options || [];\n    }\n\n}\n","import checkbox from './checkbox';\n\nexport default {\n    ...checkbox, name: 'radio'\n};\n","import checkbox from './checkbox';\n\nexport default {\n    ...checkbox, name: 'select'\n};\n","import extend from '@form-create/utils/lib/extend';\nimport toArray from '@form-create/utils/lib/toarray';\n\nconst NAME = 'FormCreate';\n\nconst getRuleInject = (vm, parent) => {\n    if (!vm || vm === parent) {\n        return;\n    }\n    if (vm.formCreateInject) {\n        return vm.formCreateInject\n    }\n    if (vm.$parent) {\n        return getRuleInject(vm.$parent, parent);\n    }\n}\n\nexport default function $FormCreate(FormCreate) {\n    return {\n        name: NAME,\n        componentName: NAME,\n        model: {\n            prop: 'api'\n        },\n        provide() {\n            return {\n                $pfc: this,\n            }\n        },\n        inject: {$pfc: {default: null}},\n        props: {\n            rule: {\n                type: Array,\n                required: true\n            },\n            option: {\n                type: Object,\n                default: () => {\n                    return {};\n                }\n            },\n            extendOption: Boolean,\n            value: Object,\n            api: Object,\n            name: String,\n            subForm: {\n                type: Boolean,\n                default: true\n            },\n            inFor: Boolean,\n        },\n        data() {\n            return {\n                formData: undefined,\n                destroyed: false,\n                validate: {},\n                $f: undefined,\n                isShow: true,\n                unique: 1,\n                renderRule: [...this.rule || []],\n                ctxInject: {},\n                updateValue: JSON.stringify(this.value || {}),\n                isMore: !!this.inFor,\n            };\n        },\n        render() {\n            return this.formCreate.render();\n        },\n        methods: {\n            _refresh() {\n                ++this.unique;\n            },\n            _renderRule() {\n                this.renderRule = [...this.rule || []];\n            },\n            _updateValue(value) {\n                if (this.destroyed) return;\n                this.updateValue = JSON.stringify(value);\n                this.$emit('update:value', value);\n            }\n        },\n        watch: {\n            value: {\n                handler(n) {\n                    if (JSON.stringify(n || {}) === this.updateValue) return;\n                    this.$f.setValue(n || {});\n                },\n                deep: true\n            },\n            option: {\n                handler(n) {\n                    this.formCreate.initOptions(n);\n                    this.$f.refresh();\n                },\n                deep: true\n            },\n            rule(n) {\n                if (n.length === this.renderRule.length && n.every(v => this.renderRule.indexOf(v) > -1)) return;\n                this.formCreate.$handle.reloadRule(n);\n                this._renderRule();\n            }\n        },\n        beforeCreate() {\n            const {rule, option} = this.$options.propsData;\n            this.formCreate = new FormCreate(this, rule, option);\n            Object.keys(this.formCreate.prop).forEach(k => {\n                extend(this.$options[k], this.formCreate.prop[k]);\n            })\n            this.$emit('beforeCreate', this.formCreate.api());\n        },\n        created() {\n            const vm = this, fapi = this.formCreate.api();\n            const addSubForm = () => {\n                if (vm.$pfc) {\n                    const inject = getRuleInject(vm, vm.$pfc);\n                    if (inject) {\n                        let sub;\n                        if (vm.isMore) {\n                            sub = toArray(inject.getSubForm());\n                            sub.push(fapi);\n\n                        } else {\n                            sub = fapi;\n                        }\n                        inject.subForm(sub);\n                    }\n                }\n            };\n\n            const rmSubForm = () => {\n                const inject = getRuleInject(vm, vm.$pfc);\n                if (inject) {\n                    if (vm.isMore) {\n                        const sub = toArray(inject.getSubForm());\n                        const idx = sub.indexOf(fapi);\n                        if (idx > -1) {\n                            sub.splice(idx, 1);\n                        }\n                    } else {\n                        inject.subForm();\n                    }\n                }\n            };\n\n            vm.$on('hook:beforeDestroy', () => {\n                rmSubForm();\n            });\n\n            this.$watch(() => this.subForm, (n) => {\n                n ? addSubForm() : rmSubForm();\n            }, {immediate: true});\n        }\n    }\n}\n","export const normalMerge = ['attrs', 'props', 'domProps', 'scopedSlots'];\nexport const toArrayMerge = ['class', 'style', 'directives'];\nexport const functionalMerge = ['on', 'nativeOn'];\n\nconst mergeProps = (objects, initial = {}, opt = {}) => {\n    const _normalMerge = [...normalMerge, ...opt['normal'] || []];\n    const _toArrayMerge = [...toArrayMerge, ...opt['array'] || []];\n    const _functionalMerge = [...functionalMerge, ...opt['functional'] || []];\n    const propsMerge = opt['props'] || [];\n\n    return objects.reduce((a, b) => {\n        for (const key in b) {\n            if (a[key]) {\n                if (propsMerge.indexOf(key) > -1) {\n                    a[key] = mergeProps([b[key]], a[key]);\n                } else if (_normalMerge.indexOf(key) > -1) {\n                    a[key] = {...a[key], ...b[key]}\n                } else if (_toArrayMerge.indexOf(key) > -1) {\n                    const arrA = a[key] instanceof Array ? a[key] : [a[key]];\n                    const arrB = b[key] instanceof Array ? b[key] : [b[key]];\n                    a[key] = [...arrA, ...arrB]\n                } else if (_functionalMerge.indexOf(key) > -1) {\n                    for (const event in b[key]) {\n                        if (a[key][event]) {\n                            const arrA = a[key][event] instanceof Array ? a[key][event] : [a[key][event]];\n                            const arrB = b[key][event] instanceof Array ? b[key][event] : [b[key][event]];\n                            a[key][event] = [...arrA, ...arrB]\n                        } else {\n                            a[key][event] = b[key][event]\n                        }\n                    }\n                } else if (key === 'hook') {\n                    for (let hook in b[key]) {\n                        if (a[key][hook]) {\n                            a[key][hook] = mergeFn(a[key][hook], b[key][hook])\n                        } else {\n                            a[key][hook] = b[key][hook]\n                        }\n                    }\n                } else {\n                    a[key] = b[key]\n                }\n            } else {\n                if (_normalMerge.indexOf(key) > -1 || _functionalMerge.indexOf(key) > -1 || propsMerge.indexOf(key) > -1) {\n                    a[key] = {...b[key]}\n                } else if (_toArrayMerge.indexOf(key) > -1) {\n                    a[key] = b[key] instanceof Array ? [...b[key]] : (typeof b[key] === 'object' ? {...b[key]} : b[key]);\n                } else\n                    a[key] = b[key];\n            }\n        }\n        return a\n    }, initial);\n}\n\nconst mergeFn = (fn1, fn2) =>\n    function () {\n        fn1 && fn1.apply(this, arguments);\n        fn2 && fn2.apply(this, arguments);\n    };\n\nexport default mergeProps;\n","import {functionalMerge, normalMerge, toArrayMerge} from '@form-create/utils/lib/mergeprops';\n\n\nexport const keyAttrs = ['type', 'slot', 'emitPrefix', 'value', 'name', 'native', 'hidden', 'display', 'inject', 'options', 'emit', 'nativeEmit', 'link', 'prefix', 'suffix', 'update', 'sync', 'optionsTo', 'key', 'preview', 'component', 'cache'];\n\nexport const arrayAttrs = ['validate', 'children', 'control'];\n\nexport const normalAttrs = ['effect', 'deep'];\n\nexport function attrs() {\n    return [...keyAttrs, ...normalMerge, ...toArrayMerge, ...functionalMerge, ...arrayAttrs, ...normalAttrs];\n}\n","export function format(type, msg, rule) {\n    return (`[form-create ${type}]: ${msg}` + (rule ? ('\\n\\nrule: ' + JSON.stringify(rule.getRule ? rule.getRule() : rule)) : ''))\n}\n\nexport function tip(msg, rule) {\n    console.warn(format('tip', msg, rule));\n}\n\nexport function err(msg, rule) {\n    console.error(format('err', msg, rule));\n}\n\nexport function logError(e) {\n    err(e.toString());\n    console.error(e);\n}\n","import deepExtend from './deepextend';\nimport {err} from './console';\nimport is, {hasProperty} from './type';\n\nconst PREFIX = '[[FORM-CREATE-PREFIX-';\nconst SUFFIX = '-FORM-CREATE-SUFFIX]]';\n\nconst $T = '$FN:';\nconst $TX = '$FNX:';\nconst FUNCTION = 'function';\n\nexport function toJson(obj, space) {\n    return JSON.stringify(deepExtend([], obj, true), function (key, val) {\n        if (val && val._isVue === true)\n            return undefined;\n\n        if (typeof val !== FUNCTION) {\n            return val;\n        }\n        if (val.__json) {\n            return val.__json;\n        }\n        if (val.__origin)\n            val = val.__origin;\n\n        if (val.__emit)\n            return undefined;\n        return PREFIX + val + SUFFIX;\n    }, space);\n}\n\nfunction makeFn(fn) {\n    return eval('(' + FUNCTION + '(){return ' + fn + ' })()')\n}\n\nexport function parseFn(fn, mode) {\n    if (fn && is.String(fn) && fn.length > 4) {\n        let v = fn.trim();\n        let flag = false;\n        try {\n            if (v.indexOf(SUFFIX) > 0 && v.indexOf(PREFIX) === 0) {\n                v = v.replace(SUFFIX, '').replace(PREFIX, '');\n                flag = true;\n            } else if (v.indexOf($T) === 0) {\n                v = v.replace($T, '');\n                flag = true;\n            } else if (v.indexOf($TX) === 0) {\n                v = makeFn('function($inject){' + v.replace($TX, '') + '}');\n                v.__json = fn;\n                v.__inject = true;\n                return v;\n            } else if (!mode && v.indexOf(FUNCTION) === 0 && v !== FUNCTION) {\n                flag = true;\n            }\n            if (!flag) return fn;\n            const val = makeFn((v.indexOf(FUNCTION) === -1 && v.indexOf('(') !== 0) ? (FUNCTION + ' ' + v) : v);\n            val.__json = fn;\n            return val;\n        } catch (e) {\n            err(`解析失败:${v}\\n\\nerr: ${e}`);\n            return undefined;\n        }\n    }\n    return fn;\n}\n\nexport function parseJson(json, mode) {\n    return JSON.parse(json, function (k, v) {\n        if (is.Undef(v) || !v.indexOf) return v;\n        return parseFn(v, mode);\n    });\n}\n","import is from '@form-create/utils/lib/type';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\nimport {arrayAttrs, normalAttrs} from './attrs';\nimport {logError} from '@form-create/utils/lib/console';\nimport {parseJson, toJson} from '@form-create/utils/lib/json';\nimport deepExtend from '@form-create/utils/lib/deepextend';\n\nexport {parseFn} from '@form-create/utils/lib/json';\nexport {parseJson, toJson}\n\nexport function enumerable(value, writable) {\n    return {\n        value,\n        enumerable: false,\n        configurable: false,\n        writable: !!writable\n    }\n}\n\n//todo 优化位置\nexport function copyRule(rule) {\n    return copyRules([rule])[0];\n}\n\nexport function copyRules(rules, mode) {\n    return deepExtend([], [...rules], mode || false);\n}\n\nexport function mergeRule(rule, merge) {\n    mergeProps(Array.isArray(merge) ? merge : [merge], rule, {array: arrayAttrs, normal: normalAttrs});\n    return rule;\n}\n\nexport function getRule(rule) {\n    return is.Function(rule.getRule) ? rule.getRule() : rule;\n}\n\nexport function mergeGlobal(target, merge) {\n    if (!target) return merge;\n    Object.keys(merge || {}).forEach((k) => {\n        if (merge[k]) {\n            target[k] = mergeRule(target[k] || {}, merge[k])\n        }\n    });\n    return target;\n}\n\nexport function funcProxy(that, proxy) {\n    Object.defineProperties(that, Object.keys(proxy).reduce((initial, k) => {\n        initial[k] = {\n            get() {\n                return proxy[k]();\n            }\n        }\n        return initial;\n    }, {}))\n}\n\nexport function byCtx(rule) {\n    return rule.__fc__ || (rule.__origin__ ? rule.__origin__.__fc__ : null)\n}\n\nexport function invoke(fn, def) {\n    try {\n        def = fn()\n    } catch (e) {\n        logError(e);\n    }\n    return def;\n}\n","import extend from '@form-create/utils/lib/extend';\nimport is from '@form-create/utils/lib/type';\nimport {attrs} from '../frame/attrs';\nimport {copyRule, mergeRule} from '../frame/util';\nimport {$set} from '@form-create/utils/lib/modify';\n\nexport function baseRule() {\n    return {\n        props: {},\n        on: {},\n        options: [],\n        children: [],\n        hidden: false,\n        display: true,\n        value: undefined,\n    };\n}\n\nexport function creatorFactory(name, init) {\n    return (title, field, value, props = {}) => {\n        const maker = new Creator(name, title, field, value, props);\n        if (init) {\n            if (is.Function(init)) init(maker);\n            else maker.props(init);\n        }\n        return maker;\n    };\n}\n\nexport default function Creator(type, title, field, value, props) {\n    this._data = extend(baseRule(), {type, title, field, value, props: props || {}});\n    this.event = this.on;\n}\n\nextend(Creator.prototype, {\n    getRule() {\n        return this._data;\n    },\n    setProp(key, value) {\n        $set(this._data, key, value);\n        return this;\n    },\n    _clone() {\n        const clone = new this.constructor();\n        clone._data = copyRule(this._data);\n        return clone;\n    },\n})\n\nexport function appendProto(attrs) {\n    attrs.forEach(name => {\n        Creator.prototype[name] = function (key) {\n            mergeRule(this._data, {[name]: arguments.length < 2 ? key : {[key]: arguments[1]}})\n            return this;\n        };\n    });\n}\n\nappendProto(attrs());\n","import {creatorFactory} from './creator';\n\nconst commonMaker = creatorFactory('');\n\nexport function create(type, field, title) {\n    let make = commonMaker('', field);\n    make._data.type = type;\n    make._data.title = title;\n    return make;\n}\n\nexport function createTmp(template, vm, field, title) {\n    let make = commonMaker('', field);\n    make._data.type = 'template';\n    make._data.template = template;\n    make._data.title = title;\n    make._data.vm = vm;\n    return make;\n}\n\nexport default function makerFactory() {\n    return {\n        create,\n        createTmp,\n        template: createTmp,\n        factory: creatorFactory\n    };\n}\n","import {byCtx, invoke, mergeRule, toJson} from './util';\nimport {$set} from '@form-create/utils/lib/modify';\nimport {deepCopy} from '@form-create/utils/lib/deepextend';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport extend from '@form-create/utils/lib/extend';\nimport {format} from '@form-create/utils/lib/console';\n\n\nfunction copy(value) {\n    return deepCopy(value);\n}\n\nexport default function Api(h) {\n\n    function tidyFields(fields) {\n        if (is.Undef(fields))\n            fields = h.fields();\n        else if (!Array.isArray(fields))\n            fields = [fields];\n        return fields;\n    }\n\n    function props(fields, key, val) {\n        tidyFields(fields).forEach(field => {\n            h.getCtxs(field).forEach(ctx => {\n                $set(ctx.rule, key, val);\n                h.$render.clearCache(ctx);\n            });\n        })\n    }\n\n    function allSubForm() {\n        const subs = h.subForm;\n        return Object.keys(subs).reduce((initial, k) => {\n            const sub = subs[k];\n            if (!sub) return initial;\n            if (Array.isArray(sub))\n                initial.push(...sub);\n            else\n                initial.push(sub);\n            return initial;\n        }, []);\n    }\n\n    const api = {\n        get config() {\n            return h.options\n        },\n        get options() {\n            return h.options\n        },\n        get form() {\n            return h.form\n        },\n        get rule() {\n            return h.rules\n        },\n        get parent() {\n            return h.vm.$pfc && h.vm.$pfc.$f\n        },\n        get children() {\n            return allSubForm();\n        },\n        formData(fields) {\n            return tidyFields(fields).reduce((initial, id) => {\n                const ctx = h.getFieldCtx(id);\n                if (!ctx) return initial;\n                initial[ctx.field] = copy(ctx.rule.value);\n                return initial;\n            }, h.options.appendValue ? copy(h.appendData) : {});\n        },\n        getValue(field) {\n            const ctx = h.getFieldCtx(field);\n            if (!ctx) return;\n            return copy(ctx.rule.value);\n        },\n        coverValue(formData) {\n            h.deferSyncValue(() => {\n                api.fields().forEach(key => {\n                    const ctxs = h.fieldCtx[key];\n                    if (!ctxs) return h.appendData[key] = formData[key];\n                    const flag = hasProperty(formData, key);\n                    ctxs.forEach(ctx => {\n                        ctx.rule.value = flag ? formData[key] : undefined;\n                    })\n                });\n            })\n        },\n        setValue(field) {\n            let formData = field;\n            if (arguments.length >= 2)\n                formData = {[field]: arguments[1]};\n            h.deferSyncValue(() => {\n                Object.keys(formData).forEach(key => {\n                    const ctxs = h.fieldCtx[key];\n                    if (!ctxs) return h.appendData[key] = formData[key];\n                    ctxs.forEach(ctx => {\n                        ctx.rule.value = formData[key];\n                    });\n                });\n            })\n        },\n        removeField(field) {\n            const ctx = h.getCtx(field);\n            h.deferSyncValue(() => {\n                h.getCtxs(field).forEach(ctx => {\n                    ctx.rm();\n                });\n            }, true);\n            return ctx ? ctx.origin : undefined;\n        },\n        removeRule(rule) {\n            const ctx = rule && byCtx(rule);\n            if (!ctx) return;\n            ctx.rm();\n            return ctx.origin;\n        },\n        destroy: () => {\n            h.vm.$el.parentNode && h.vm.$el.parentNode.removeChild(h.vm.$el);\n            h.vm.$destroy();\n        },\n        fields: () => h.fields(),\n        append: (rule, after, child) => {\n            let index = h.sort.length - 1, rules;\n            const ctx = h.getCtx(after);\n\n            if (ctx) {\n                if (child) {\n                    rules = ctx.rule.children;\n                    index = ctx.rule.children.length - 1;\n                } else {\n                    index = ctx.root.indexOf(ctx.origin);\n                    rules = ctx.root;\n                }\n            } else rules = h.rules;\n            rules.splice(index + 1, 0, rule);\n        },\n        prepend: (rule, after, child) => {\n            let index = 0, rules;\n            const ctx = h.getCtx(after);\n\n            if (ctx) {\n                if (child) {\n                    rules = ctx.rule.children;\n                } else {\n                    index = ctx.root.indexOf(ctx.origin);\n                    rules = ctx.root;\n                }\n            } else rules = h.rules;\n            rules.splice(index, 0, rule);\n        },\n        hidden(state, fields) {\n            props(fields, 'hidden', !!state);\n            h.refresh();\n        },\n        hiddenStatus(id) {\n            const ctx = h.getCtx(id);\n            if (!ctx) return;\n            return !!ctx.rule.hidden;\n        },\n        display(state, fields) {\n            props(fields, 'display', !!state);\n            h.refresh();\n        },\n        displayStatus(id) {\n            const ctx = h.getCtx(id);\n            if (!ctx) return;\n            return !!ctx.rule.display;\n        },\n        disabled(disabled, fields) {\n            tidyFields(fields).forEach((field) => {\n                h.getCtxs(field).forEach(ctx => {\n                    ctx.rule.props && $set(ctx.rule.props, 'disabled', !!disabled);\n                });\n            });\n            h.refresh();\n        },\n        all(origin) {\n            return Object.keys(h.ctxs).map(k => {\n                const ctx = h.ctxs[k];\n                return origin ? ctx.origin : ctx.rule;\n            });\n        },\n        model(origin) {\n            return h.fields().reduce((initial, key) => {\n                const ctx = h.fieldCtx[key][0];\n                initial[key] = origin ? ctx.origin : ctx.rule;\n                return initial;\n            }, {});\n        },\n        component(origin) {\n            return Object.keys(h.nameCtx).reduce((initial, key) => {\n                const ctx = h.nameCtx[key].map(ctx => origin ? ctx.origin : ctx.rule);\n                initial[key] = ctx.length === 1 ? ctx[0] : ctx;\n                return initial;\n            }, {});\n        },\n        bind() {\n            return api.form;\n        },\n        reload: (rules) => {\n            h.reloadRule(rules)\n        },\n        updateOptions(options) {\n            h.fc.updateOptions(options);\n            api.refresh();\n        },\n        onSubmit(fn) {\n            api.updateOptions({onSubmit: fn});\n        },\n        sync: (field) => {\n            if (Array.isArray(field)) {\n                field.forEach(v => api.sync(v));\n                return;\n            }\n            let ctxs = is.Object(field) ? byCtx(field) : h.getCtxs(field);\n            if (!ctxs) {\n                return;\n            }\n            ctxs = Array.isArray(ctxs) ? ctxs : [ctxs];\n            ctxs.forEach(ctx => {\n                if (!ctx.deleted) {\n                    const subForm = h.subForm[ctx.id];\n                    if (subForm) {\n                        if (Array.isArray(subForm)) {\n                            subForm.forEach(form => {\n                                form.refresh();\n                            })\n                        } else if (subForm) {\n                            subForm.refresh();\n                        }\n                    }\n                    //ctx.updateKey(true);\n                    h.$render.clearCache(ctx);\n                }\n            });\n            h.refresh();\n        },\n        refresh: () => {\n            allSubForm().forEach(sub => {\n                sub.refresh();\n            });\n            h.$render.clearCacheAll();\n            h.refresh();\n        },\n        refreshOptions() {\n            h.$manager.updateOptions(h.options);\n            api.refresh();\n        },\n        hideForm: (hide) => {\n            $set(h.vm, 'isShow', !hide);\n        },\n        changeStatus: () => {\n            return h.changeStatus;\n        },\n        clearChangeStatus: () => {\n            h.changeStatus = false;\n        },\n        updateRule(id, rule) {\n            h.getCtxs(id).forEach(ctx => {\n                extend(ctx.rule, rule);\n            });\n        },\n        updateRules(rules) {\n            Object.keys(rules).forEach(id => {\n                api.updateRule(id, rules[id]);\n            })\n        },\n        mergeRule: (id, rule) => {\n            h.getCtxs(id).forEach(ctx => {\n                mergeRule(ctx.rule, rule);\n            });\n        },\n        mergeRules(rules) {\n            Object.keys(rules).forEach(id => {\n                api.mergeRule(id, rules[id]);\n            })\n        },\n        getRule: (id, origin) => {\n            const ctx = h.getCtx(id);\n            if (ctx) {\n                return origin ? ctx.origin : ctx.rule;\n            }\n        },\n        setEffect(id, attr, value) {\n            const ctx = h.getCtx(id);\n            if (ctx && attr) {\n                if (attr[0] === '$') {\n                    attr = attr.substr(1);\n                }\n                if (hasProperty(ctx.rule, '$' + attr)) {\n                    $set(ctx.rule, '$' + attr, value);\n                }\n                if (!hasProperty(ctx.rule, 'effect')) {\n                    ctx.rule.effect = {};\n                }\n                $set(ctx.rule.effect, attr, value);\n            }\n        },\n        updateValidate(id, validate, merge) {\n            if (merge) {\n                api.mergeRule(id, {validate})\n            } else {\n                props(id, 'validate', validate);\n            }\n        },\n        updateValidates(validates, merge) {\n            Object.keys(validates).forEach(id => {\n                api.updateValidate(id, validates[id], merge);\n            })\n        },\n        refreshValidate() {\n            h.vm.validate = {};\n            api.refresh();\n        },\n        resetFields(fields) {\n            tidyFields(fields).forEach(field => {\n                h.getCtxs(field).forEach(ctx => {\n                    h.$render.clearCache(ctx);\n                    ctx.rule.value = copy(ctx.defaultValue);\n                    h.refreshControl(ctx);\n                });\n            });\n        },\n        method(id, name) {\n            const el = api.el(id);\n            if (!el || !el[name])\n                throw new Error(format('err', `${name}方法不存在`));\n            return (...args) => {\n                return el[name](...args);\n            }\n        },\n        exec(id, name, ...args) {\n            return invoke(() => api.method(id, name)(...args));\n        },\n        toJson(space) {\n            return toJson(api.rule, space);\n        },\n        trigger(id, event, ...args) {\n            const el = api.el(id);\n            el && el.$emit(event, ...args);\n        },\n        el(id) {\n            const ctx = h.getCtx(id);\n            if (ctx) return ctx.el || h.vm.$refs[ctx.ref];\n        },\n        closeModal: (id) => {\n            const el = api.el(id);\n            el && el.$emit && el.$emit('close-modal');\n        },\n        getSubForm(field) {\n            const ctx = h.getCtx(field);\n            return ctx ? h.subForm[ctx.id] : undefined;\n        },\n        nextTick(fn) {\n            h.bus.$once('next-tick', fn);\n            h.refresh();\n        },\n        nextRefresh(fn) {\n            h.nextRefresh();\n            fn && invoke(fn);\n        },\n        emit(name, ...args) {\n            h.vm.$emit(name, ...args);\n        },\n        helper: {\n            tidyFields, props\n        }\n    };\n\n    ['on', 'once', 'off', 'set'].forEach(n => {\n        api[n] = function (...args) {\n            h.vm[`$${n}`](...args);\n        }\n    });\n\n    api.changeValue = api.changeField = api.setValue;\n\n    return api;\n}\n","import extend from '@form-create/utils/lib/extend';\n\nexport default function useCache(Render) {\n    extend(Render.prototype, {\n        initCache() {\n            this.clearCacheAll();\n        },\n        clearCache(ctx) {\n            if (!this.cache[ctx.id]) {\n                ctx.parent && this.clearCache(ctx.parent);\n                return;\n            }\n            if (this.cache[ctx.id].use === true || this.cache[ctx.id].parent) {\n                this.$handle.refresh();\n            }\n            const parent = this.cache[ctx.id].parent;\n            this.cache[ctx.id] = null;\n            parent && this.clearCache(parent);\n        },\n        clearCacheAll() {\n            this.cache = {};\n        },\n        setCache(ctx, vnode, parent) {\n            this.cache[ctx.id] = {\n                vnode,\n                use: false,\n                parent,\n                slot: ctx.rule.slot\n            };\n        },\n        getCache(ctx) {\n            const cache = this.cache[ctx.id];\n            cache.use = true;\n            return cache.vnode;\n        }\n    })\n\n}\n","export default function toCase(str) {\n    const to = str.replace(/(-[a-z])/g, function (v) {\n        return v.replace('-', '').toLocaleUpperCase();\n    });\n\n    return lower(to);\n}\n\nexport function lower(str) {\n    return str.replace(str[0], str[0].toLowerCase());\n}\n","export default function toLine(name) {\n    let line = name.replace(/([A-Z])/g, '-$1').toLocaleLowerCase();\n    if (line.indexOf('-') === 0)\n        line = line.substr(1);\n    return line;\n}\n","let id = 0;\n\nexport default function uniqueId() {\n    return Math.random().toString(36).substr(3, 3) + Number(`${Date.now()}${++id}`).toString(36);\n}\n","export default function deepSet(data, idx, val) {\n    let _data = data, to;\n    (idx || '').split('.').forEach(v => {\n        if (to) {\n            if (!_data[to] || typeof _data[to] != 'object') {\n                _data[to] = {}\n            }\n            _data = _data[to];\n        }\n        to = v;\n    })\n    _data[to] = val;\n    return _data;\n}\n","import extend from '@form-create/utils/lib/extend';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport {_vue as Vue} from '../frame';\nimport {tip} from '@form-create/utils/lib/console';\nimport {invoke, mergeRule} from '../frame/util';\nimport toCase, {lower} from '@form-create/utils/lib/tocase';\nimport {$set, deepSet, toLine} from '@form-create/utils';\n\nexport default function useRender(Render) {\n    extend(Render.prototype, {\n        initRender() {\n            this.tempList = {};\n            this.clearOrgChildren();\n        },\n        initOrgChildren() {\n            const ctxs = this.$handle.ctxs;\n            this.orgChildren = Object.keys(ctxs).reduce((initial, id) => {\n                if (ctxs[id].parser.loadChildren !== false) {\n                    const children = ctxs[id].rule.children;\n                    initial[id] = is.trueArray(children) ? [...children] : [];\n                }\n\n                return initial;\n            }, {});\n\n        },\n        clearOrgChildren() {\n            this.orgChildren = {};\n        },\n        getTypeSlot(type) {\n            const name = 'type-' + toLine(type);\n            const _fn = (vm) => {\n                if (vm) {\n                    const slot = vm.$scopedSlots[name] || vm.$scopedSlots['type-' + type];\n                    if (slot) {\n                        return slot;\n                    }\n                    return _fn(vm.$pfc);\n                }\n            }\n            return _fn(this.vm);\n        },\n        render() {\n            if (!this.vm.isShow) {\n                return;\n            }\n            this.$h = this.vm.$createElement;\n            this.$manager.beforeRender();\n\n            let vn;\n\n            const make = () => this.renderList();\n            make.renderSlot = slot => this.renderList(slot);\n            make.renderName = name => this.renderId(name);\n            make.renderField = field => this.renderId(field, 'field');\n\n            if (this.vm.$scopedSlots.container) {\n                vn = [this.vm.$scopedSlots.container(make)];\n            } else {\n                vn = make();\n            }\n            return this.$manager.render(vn);\n        },\n        renderList(slot) {\n            return this.sort.map((id) => {\n                return slot ? this.renderSlot(this.$handle.ctxs[id], slot) : this.renderCtx(this.$handle.ctxs[id]);\n            }).filter((val) => val !== undefined);\n        },\n        makeVm(rule) {\n            const vm = rule.vm;\n            if (!vm)\n                return new Vue;\n            else if (is.Function(vm))\n                return invoke(() => rule.vm(this.$handle.getInjectData(rule)));\n            else if (!vm._isVue)\n                return new Vue(vm);\n            return vm;\n        },\n        mergeGlobal(ctx) {\n            const g = this.$handle.options.global;\n            if (!g) return;\n            //todo 缓存配置,更新 option 更新\n            if (!ctx.cacheConfig)\n                ctx.cacheConfig = g[ctx.originType] || g[ctx.type] || g[ctx.trueType] || {};\n            ctx.prop = mergeRule({}, [g['*'], ctx.cacheConfig, ctx.prop]);\n        },\n        setOptions(ctx) {\n            if (ctx.prop.optionsTo && ctx.prop.options) {\n                deepSet(ctx.prop, ctx.prop.optionsTo, ctx.prop.options);\n            }\n        },\n        deepSet(ctx) {\n            const deep = ctx.rule.deep;\n            deep && Object.keys(deep).sort((a, b) => a.length < b.length ? -1 : 1).forEach(str => {\n                deepSet(ctx.prop, str, deep[str]);\n            });\n        },\n        setTempProps(vm, ctx) {\n            if (!vm.$props) return;\n\n            const {prop} = ctx;\n            const keys = Object.keys(vm.$props);\n            const inject = this.injectProp(ctx);\n            const injectKeys = Object.keys(inject);\n\n            keys.forEach(key => {\n                if (hasProperty(prop.props, key))\n                    vm.$props[key] = prop.props[key];\n                else if (injectKeys.indexOf(key) > -1) vm.$props[key] = inject[key];\n            });\n\n            const key = (vm.$options.model && vm.$options.model.prop) || 'value';\n            if (keys.indexOf(key) > -1) {\n                vm.$props[key] = prop.value;\n            }\n        },\n        renderTemp(ctx) {\n            if (!Vue.compile) {\n                tip('当前使用的Vue构建版本不支持compile,无法使用template功能');\n                return [];\n            }\n            const rule = ctx.prop;\n            const {id, key} = ctx;\n\n            if (!this.tempList[id]) {\n                if (!ctx.el) {\n                    ctx.el = this.makeVm(rule);\n                    this.vm.$nextTick(() => ctx.parser.mounted(ctx));\n                }\n\n                let vm = ctx.el;\n                if (ctx.input)\n                    vm.$on((vm.$options.model && vm.$options.model.event) || 'input', (value) => {\n                        this.onInput(ctx, value);\n                    });\n\n                this.tempList[id] = {\n                    vm,\n                    template: Vue.compile(rule.template)\n                };\n            }\n\n            const {vm, template} = this.tempList[id];\n\n            this.setTempProps(vm, ctx);\n\n            const vn = template.render.call(vm);\n\n            if (is.Undef(vn.data)) vn.data = {};\n            vn.key = key;\n            vn.data.ref = ctx.ref;\n            vn.data.key = key;\n            return vn;\n        },\n        parseSide(side) {\n            return is.Object(side) ? mergeRule({}, side) : side;\n        },\n        renderSides(vn, ctx, temp) {\n            const prop = ctx[temp ? 'rule' : 'prop'];\n            return [this.renderRule(this.parseSide(prop.prefix)), vn, this.renderRule(this.parseSide(prop.suffix))];\n        },\n        renderSlot(ctx, slot) {\n            return ctx.rule.slot === slot ? this.renderCtx(ctx) : undefined;\n        },\n        renderId(name, type) {\n            const ctxs = this.$handle[type === 'field' ? 'fieldCtx' : 'nameCtx'][name]\n            return ctxs ? ctxs.map(ctx => this.renderCtx(ctx, ctx.parent)) : undefined;\n        },\n        renderCtx(ctx, parent) {\n            if (ctx.type === 'hidden') return;\n            const rule = ctx.rule;\n            if ((!this.cache[ctx.id]) || this.cache[ctx.id].slot !== rule.slot) {\n                let vn;\n                let cacheFlag = rule.cache !== false;\n                const _type = ctx.trueType;\n                const none = !(is.Undef(rule.display) || !!rule.display);\n                if (_type === 'template' && !rule.template) {\n                    vn = this.renderSides(this.renderChildren(ctx), ctx, true);\n                    if (none) {\n                        this.display(vn);\n                    }\n                    vn = this.item(ctx, vn);\n                } else if (_type === 'fcFragment') {\n                    vn = this.renderChildren(ctx);\n                } else {\n                    ctx.initProp();\n                    this.mergeGlobal(ctx);\n                    this.$manager.tidyRule(ctx);\n                    this.deepSet(ctx);\n                    this.setOptions(ctx);\n                    this.ctxProp(ctx);\n                    let prop = ctx.prop;\n                    prop.preview = !!(hasProperty(prop, 'preview') ? prop.preview : (this.options.preview || false))\n                    prop.props.formCreateInject = this.injectProp(ctx);\n                    const preview = prop.preview;\n\n                    if (prop.hidden) {\n                        this.setCache(ctx, undefined, parent);\n                        return;\n                    }\n\n                    if (_type === 'template' && prop.template) {\n                        vn = this.renderTemp(ctx);\n                        cacheFlag = false;\n                    } else {\n                        let children = [];\n                        if (ctx.parser.renderChildren) {\n                            children = ctx.parser.renderChildren(ctx);\n                        } else if (ctx.parser.loadChildren !== false) {\n                            children = this.renderChildren(ctx);\n                        }\n                        const slot = this.getTypeSlot(ctx.type);\n                        if (slot) {\n                            vn = slot({\n                                rule,\n                                prop,\n                                preview,\n                                children,\n                                api: this.$handle.api,\n                                model: prop.model || {}\n                            });\n                        } else {\n                            vn = preview ? ctx.parser.preview(children, ctx) : ctx.parser.render(children, ctx);\n                        }\n                    }\n                    vn = this.renderSides(vn, ctx);\n                    if ((!(!ctx.input && is.Undef(prop.native))) && prop.native !== true) {\n                        vn = this.$manager.makeWrap(ctx, vn);\n                    }\n                    if (none) {\n                        vn = this.display(vn);\n                    }\n                    vn = this.item(ctx, vn)\n                }\n                if (cacheFlag) {\n                    this.setCache(ctx, vn, parent);\n                }\n                return vn;\n            }\n\n            return this.getCache(ctx);\n        },\n        display(vn) {\n            if (Array.isArray(vn)) {\n                const data = [];\n                vn.forEach(v => {\n                    if (Array.isArray(v)) return this.display(v);\n                    if (this.none(v)) data.push(v);\n                })\n                return data;\n            } else {\n                return this.none(vn);\n            }\n        },\n        none(vn) {\n            if (vn && vn.data) {\n                if (Array.isArray(vn.data.style)) {\n                    vn.data.style.push({display: 'none'});\n                } else {\n                    vn.data.style = [vn.data.style, {display: 'none'}];\n                }\n                return vn;\n            }\n        },\n        item(ctx, vn) {\n            return this.$h('fcFragment', {\n                slot: ctx.rule.slot,\n                key: ctx.key,\n            }, [vn]);\n        },\n        injectProp(ctx) {\n            if (!this.vm.ctxInject[ctx.id]) {\n                $set(this.vm.ctxInject, ctx.id, {\n                    api: this.$handle.api,\n                    form: this.fc.create,\n                    subForm: subForm => {\n                        this.$handle.addSubForm(ctx, subForm);\n                    },\n                    getSubForm: () => {\n                        return this.$handle.subForm[ctx.id];\n                    },\n                    options: [],\n                    children: [],\n                    prop: {},\n                    preview: false,\n                    field: ctx.field,\n                    rule: ctx.rule,\n                    input: ctx.input,\n                });\n            }\n            const inject = this.vm.ctxInject[ctx.id];\n            extend(inject, {\n                preview: ctx.prop.preview,\n                options: ctx.prop.options,\n                children: ctx.rule.children,\n                prop: (function () {\n                    const temp = {...ctx.prop};\n                    temp.on = temp.on ? {...temp.on} : {};\n                    delete temp.model;\n                    return temp;\n                }()),\n            });\n            return inject;\n        },\n        ctxProp(ctx, custom) {\n            const {ref, key, rule} = ctx;\n            this.$manager.mergeProp(ctx, custom);\n            ctx.parser.mergeProp(ctx, custom);\n            const props = [\n                {\n                    ref: ref,\n                    key: rule.key || `${key}fc`,\n                    slot: undefined,\n                    on: {\n                        'hook:mounted': () => {\n                            this.onMounted(ctx);\n                        },\n                        'fc.sub-form': (subForm) => {\n                            this.$handle.addSubForm(ctx, subForm);\n                        }\n                    },\n                }\n            ]\n\n            if (!custom && ctx.input) {\n                ctx.prop.model = {\n                    value: this.$handle.getFormData(ctx),\n                    callback: (value) => {\n                        this.onInput(ctx, value);\n                    },\n                    expression: `formData.${ctx.id}`\n                };\n            }\n            mergeProps(props, ctx.prop);\n            return ctx.prop;\n        },\n        onMounted(ctx) {\n            ctx.el = this.vm.$refs[ctx.ref];\n            if (ctx.el) {\n                (ctx.el.$el || ctx.el).__rule__ = ctx.rule;\n            }\n            ctx.parser.mounted(ctx);\n            this.$handle.effect(ctx, 'mounted');\n        },\n        onInput(ctx, value) {\n            this.$handle.onInput(ctx, value);\n        },\n        renderChildren(ctx) {\n            const {children} = ctx.rule, orgChildren = this.orgChildren[ctx.id];\n\n            const isRm = child => {\n                return !is.String(child) && child.__fc__ && !this.$handle.ctxs[child.__fc__.id];\n            }\n\n            if (!is.trueArray(children) && orgChildren) {\n                this.$handle.deferSyncValue(() => {\n                    orgChildren.forEach(child => {\n                        if (!child) return;\n                        if (isRm(child)) {\n                            this.$handle.rmCtx(child.__fc__);\n                        }\n                    });\n                });\n                this.orgChildren[ctx.id] = [];\n                return [];\n            }\n\n            orgChildren && this.$handle.deferSyncValue(() => {\n                orgChildren.forEach(child => {\n                    if (!child) return;\n                    if (children.indexOf(child) === -1 && isRm(child)) {\n                        this.$handle.rmCtx(child.__fc__);\n                    }\n                });\n            });\n\n            return children.map(child => {\n                if (!child) return;\n                if (is.String(child)) return child;\n                if (child.__fc__) {\n                    return this.renderCtx(child.__fc__, ctx);\n                }\n                if (child.type) {\n                    this.vm.$nextTick(() => {\n                        this.$handle.loadChildren(children, ctx);\n                        this.$handle.refresh();\n                    });\n                }\n            });\n\n        },\n        defaultRender(ctx, children) {\n            const prop = ctx.prop;\n            if(prop.component)\n                return this.vNode.makeComponent(prop.component, prop, children)\n            if (this.vNode[ctx.type])\n                return this.vNode[ctx.type](prop, children);\n            if (this.vNode[ctx.originType])\n                return this.vNode[ctx.originType](prop, children);\n            return this.vNode.make(lower(ctx.originType), prop, children);\n        },\n        renderRule(rule, children, origin) {\n            if (!rule) return undefined;\n            if (is.String(rule)) return rule;\n\n            let type;\n            if (origin) {\n                type = rule.type;\n            } else {\n                type = rule.is;\n                if (rule.type) {\n                    type = toCase(rule.type);\n                    const alias = this.vNode.aliasMap[type];\n                    if (alias) type = toCase(alias);\n                }\n            }\n\n            if (!type) return undefined;\n            let data = [[children]];\n            if (is.trueArray(rule.children)) {\n                data.push(rule.children.map(v => this.renderRule(v)));\n            }\n            return this.$h(type, {...rule}, data);\n        }\n    })\n}\n","import useCache from './cache';\nimport useRender from './render';\nimport extend from '@form-create/utils/lib/extend';\nimport {funcProxy} from '../frame/util';\n\nexport default function Render(handle) {\n    extend(this, {\n        $handle: handle,\n        fc: handle.fc,\n        vm: handle.vm,\n        $manager: handle.$manager,\n        vNode: new handle.fc.CreateNode(handle.vm),\n    });\n\n    funcProxy(this, {\n        options() {\n            return handle.options;\n        },\n        sort() {\n            return handle.sort;\n        }\n    })\n\n    this.initCache();\n    this.initRender();\n}\n\nuseCache(Render);\nuseRender(Render)\n","import extend from '@form-create/utils/lib/extend';\nimport is from '@form-create/utils/lib/type';\nimport toLine from '@form-create/utils/lib/toline';\nimport {parseFn} from '../frame/util';\n\n\nexport default function useInject(Handler) {\n    extend(Handler.prototype, {\n        parseInjectEvent(rule, on) {\n            const inject = rule.inject || this.options.injectEvent;\n            return this.parseEventLst(rule, on, inject);\n        },\n        parseEventLst(rule, data, inject, deep) {\n            Object.keys(data).forEach(k => {\n                const fn = this.parseEvent(rule, data[k], inject, deep);\n                if (fn) {\n                    data[k] = fn;\n                }\n            });\n            return data;\n        },\n        parseEvent(rule, fn, inject, deep) {\n            if (is.Function(fn) && ((inject !== false && !is.Undef(inject)) || fn.__inject)) {\n                return this.inject(rule, fn, inject)\n            } else if (!deep && Array.isArray(fn) && fn[0] && (is.String(fn[0]) || is.Function(fn[0]))) {\n                return this.parseEventLst(rule, fn, inject, true);\n            } else if (is.String(fn)) {\n                const val = parseFn(fn);\n                if (val && fn !== val) {\n                    return val.__inject ? this.parseEvent(rule, val, inject, true) : val;\n                }\n            }\n        },\n        parseEmit(ctx, on) {\n            let event = {}, rule = ctx.rule, {emitPrefix, field, name, inject} = rule;\n            let emit = rule[on ? 'emit' : 'nativeEmit'] || [];\n            if (is.trueArray(emit)) {\n                let emitKey = emitPrefix || field || name;\n                if (emitKey) {\n                    if (!on) emitKey = `native-${emitKey}`;\n                    emit.forEach(eventName => {\n                        if (!eventName) return;\n                        let eventInject;\n                        if (is.Object(eventName)) {\n                            eventInject = eventName.inject;\n                            eventName = eventName.name;\n                        }\n                        const fieldKey = toLine(`${emitKey}-${eventName}`);\n                        const fn = (...arg) => {\n                            this.vm.$emit(fieldKey, ...arg);\n                            this.vm.$emit('emit-event', fieldKey, ...arg);\n                        };\n                        fn.__emit = true;\n\n                        if (!eventInject && inject === false) {\n                            event[eventName] = fn;\n                        } else {\n                            let _inject = eventInject || inject || this.options.injectEvent;\n                            event[eventName] = is.Undef(_inject) ? fn : this.inject(rule, fn, _inject);\n                        }\n                    });\n                }\n\n            }\n            ctx.computed[on ? 'on' : 'nativeOn'] = event;\n            return event;\n        },\n        getInjectData(self, inject) {\n            const {option, rule} = this.vm.$options.propsData;\n            return {\n                api: this.api,\n                $f: this.api,\n                rule,\n                self: self.__origin__,\n                option,\n                inject\n            };\n        },\n        inject(self, _fn, inject) {\n            if (_fn.__origin) {\n                if (this.watching && !this.loading)\n                    return _fn;\n                _fn = _fn.__origin;\n            }\n\n            const h = this;\n\n            const fn = function (...args) {\n                const data = h.getInjectData(self, inject);\n                data.args = [...args];\n                args.unshift(data);\n                return _fn.apply(this, args);\n            };\n            fn.__origin = _fn;\n            fn.__json = _fn.__json;\n            return fn;\n        },\n    })\n}\n","import extend from '@form-create/utils/lib/extend';\nimport is from '@form-create/utils/lib/type';\n\nconst EVENT = ['hook:updated', 'hook:mounted'];\n\nexport default function usePage(Handler) {\n    extend(Handler.prototype, {\n        usePage() {\n            const page = this.options.page;\n            if (!page) return;\n            let first = 25;\n            let limit = getLimit(this.rules);\n            if (is.Object(page)) {\n                if (page.first) first = parseInt(page.first, 10) || first;\n                if (page.limit) limit = parseInt(page.limit, 10) || limit;\n            }\n            extend(this, {\n                first,\n                limit,\n                pageEnd: this.rules.length <= first,\n            })\n\n            this.bus.$on('page-end', () => this.vm.$emit('page-end', this.api));\n            this.pageLoad();\n        },\n        pageLoad() {\n            const pageFn = () => {\n                if (this.pageEnd) {\n                    this.vm.$off(EVENT, pageFn);\n                    this.bus.$emit('page-end');\n                } else {\n                    this.first += this.limit;\n                    this.pageEnd = this.rules.length <= this.first;\n                    this.loadRule();\n                    this.refresh();\n                }\n            }\n            this.vm.$on(EVENT, pageFn);\n        },\n    })\n}\n\n\nfunction getLimit(rules) {\n    return rules.length < 31 ? 31 : Math.ceil(rules.length / 3);\n}\n","import extend from '@form-create/utils/lib/extend';\n\n\nexport default function useRender(Handler) {\n    extend(Handler.prototype, {\n        clearNextTick() {\n            this.nextTick && clearTimeout(this.nextTick);\n            this.nextTick = null;\n        },\n        bindNextTick(fn) {\n            this.clearNextTick();\n            this.nextTick = setTimeout(() => {\n                fn()\n                this.nextTick = null;\n            }, 10);\n        },\n        render() {\n            // console.warn('%c render', 'color:green');\n            ++this.loadedId;\n\n            if (this.vm.unique > 0)\n                return this.$render.render();\n            else {\n                this.vm.unique = 1;\n                return [];\n            }\n        },\n    });\n}\n","import unique from '@form-create/utils/lib/unique';\nimport toCase from '@form-create/utils/lib/tocase';\nimport extend from '@form-create/utils/lib/extend';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\nimport {enumerable} from '../frame/util';\nimport {deepCopy} from '@form-create/utils/lib/deepextend';\n\nfunction bind(ctx) {\n    Object.defineProperties(ctx.origin, {\n        __fc__: enumerable(ctx, true)\n    });\n}\n\nexport default function RuleContext(handle, rule) {\n    const id = unique();\n\n    extend(this, {\n        id,\n        ref: id,\n        wrapRef: id + 'fi',\n        rule,\n        origin: rule.__origin__ || rule,\n        name: rule.name,\n\n        watch: [],\n        linkOn: [],\n        root: [],\n        ctrlRule: [],\n        parent: null,\n        cacheConfig: null,\n        prop: {...rule},\n        computed: {},\n        payload: {},\n        input: !!rule.field,\n        el: undefined,\n        defaultValue: rule.field ? deepCopy(rule.value) : undefined,\n        field: rule.field || undefined,\n    })\n\n    this.updateType();\n    this.updateKey();\n    bind(this);\n    this.update(handle, true);\n}\n\nextend(RuleContext.prototype, {\n    effectData(name) {\n        if (!this.payload[name]) {\n            this.payload[name] = {};\n        }\n        return this.payload[name];\n    },\n    clearEffectData(name) {\n        delete this.payload[name]\n    },\n    updateKey(flag) {\n        this.key = unique();\n        flag && this.parent && this.parent.updateKey(flag);\n    },\n    updateType() {\n        this.originType = this.rule.type;\n        this.type = toCase(this.rule.type);\n    },\n    setParser(parser) {\n        this.parser = parser;\n        parser.init(this);\n    },\n    initProp() {\n        const rule = {...this.rule};\n        delete rule.children;\n        this.prop = mergeProps([rule, ...Object.keys(this.payload).map(k => this.payload[k]), this.computed]);\n    },\n    check(handle) {\n        return this.vm === handle.vm\n    },\n    unwatch() {\n        this.watch.forEach(un => un());\n        this.watch = [];\n    },\n    unlink() {\n        this.linkOn.forEach(un => un());\n        this.linkOn = [];\n    },\n    link() {\n        this.unlink();\n        this.$handle.appendLink(this);\n    },\n    watchTo() {\n        this.$handle.watchCtx(this);\n    },\n    delete() {\n        const undef = void 0;\n        this.unwatch();\n        this.unlink();\n        this.rmCtrl();\n        extend(this, {\n            deleted: true,\n            prop: {...this.rule},\n            computed: {},\n            el: undef,\n            $handle: undef,\n            $render: undef,\n            $api: undef,\n            vm: undef,\n            vNode: undef,\n            parent: null,\n            cacheConfig: null,\n        })\n    },\n    rmCtrl() {\n        this.ctrlRule.forEach(ctrl => ctrl.__fc__ && ctrl.__fc__.rm());\n        this.ctrlRule = [];\n    },\n    rm() {\n        const _rm = () => {\n            let index = this.root.indexOf(this.origin);\n            if (index > -1) {\n                this.root.splice(index, 1);\n                this.$handle && this.$handle.refresh();\n            }\n        }\n        if (this.deleted) {\n            _rm();\n            return;\n        }\n        this.$handle.noWatch(() => {\n            this.$handle.deferSyncValue(() => {\n                this.rmCtrl();\n                _rm();\n                this.$handle.rmCtx(this);\n                extend(this, {\n                    root: []\n                });\n            }, this.input);\n        });\n    },\n    update(handle, init) {\n        extend(this, {\n            deleted: false,\n            $handle: handle,\n            $render: handle.$render,\n            $api: handle.api,\n            vm: handle.vm,\n            trueType: handle.getType(this.originType),\n            vNode: handle.$render.vNode,\n            updated: false,\n        });\n        !init && this.unwatch();\n        this.watchTo();\n        this.link();\n    }\n})\n","import extend from '@form-create/utils/lib/extend';\nimport {byCtx, copyRule, enumerable, getRule, invoke, parseFn} from '../frame/util';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport {err} from '@form-create/utils/lib/console';\nimport {baseRule} from '../factory/creator';\nimport RuleContext from '../factory/context';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\nimport {$set} from '@form-create/utils';\n\nexport default function useLoader(Handler) {\n    extend(Handler.prototype, {\n        nextRefresh(fn) {\n            const id = this.loadedId;\n            this.vm.$nextTick(() => {\n                id === this.loadedId && (fn ? fn() : this.refresh());\n            });\n        },\n        parseRule(_rule) {\n            const rule = getRule(_rule);\n\n            Object.defineProperties(rule, {\n                __origin__: enumerable(_rule, true)\n            });\n\n            fullRule(rule);\n            this.appendValue(rule);\n\n            rule.options = Array.isArray(rule.options) ? rule.options : [];\n\n            [rule, rule['prefix'], rule['suffix']].forEach(item => {\n                if (!item) {\n                    return;\n                }\n                this.loadFn(item, rule);\n            });\n            this.loadCtrl(rule);\n            if (rule.update) {\n                rule.update = parseFn(rule.update);\n            }\n            return rule;\n        },\n        loadFn(item, rule) {\n            ['on', 'props', 'nativeOn', 'deep'].forEach(k => {\n                item[k] && this.parseInjectEvent(rule, item[k]);\n            });\n        },\n        loadCtrl(rule) {\n            rule.control && rule.control.forEach(ctrl => {\n                if (ctrl.handle) {\n                    ctrl.handle = parseFn(ctrl.handle)\n                }\n            })\n        },\n        syncProp(ctx) {\n            const rule = ctx.rule;\n            is.trueArray(rule.sync) && mergeProps([{\n                on: rule.sync.reduce((pre, prop) => {\n                    pre[`update:${prop}`] = (val) => {\n                        rule.props[prop] = val;\n                        this.vm.$emit('sync', prop, val, rule, this.fapi);\n                    }\n                    return pre\n                }, {})\n            }], ctx.computed)\n        },\n        loadRule() {\n            // console.warn('%c load', 'color:blue');\n            this.cycleLoad = false;\n            this.loading = true;\n            if (this.pageEnd) {\n                this.bus.$emit('load-start');\n            }\n            this.deferSyncValue(() => {\n                this._loadRule(this.rules);\n                this.loading = false;\n                if (this.cycleLoad && this.pageEnd) {\n                    return this.loadRule();\n                }\n                if (this.pageEnd) {\n                    this.bus.$emit('load-end');\n                }\n                this.vm._renderRule();\n                this.$render.initOrgChildren();\n                this.syncForm();\n            });\n        },\n        loadChildren(children, parent) {\n            this.cycleLoad = false;\n            this.loading = true;\n            this.bus.$emit('load-start');\n            this._loadRule(children, parent);\n            this.loading = false;\n            if (this.cycleLoad) {\n                return this.loadRule();\n            } else {\n                this.bus.$emit('load-end');\n                this.syncForm();\n            }\n            this.$render.clearCache(parent);\n        },\n        _loadRule(rules, parent) {\n\n            const preIndex = (i) => {\n                let pre = rules[i - 1];\n                if (!pre || !pre.__fc__) {\n                    return i > 0 ? preIndex(i - 1) : -1;\n                }\n                let index = this.sort.indexOf(pre.__fc__.id);\n                return index > -1 ? index : preIndex(i - 1);\n            }\n\n            const loadChildren = (children, parent) => {\n                if (is.trueArray(children)) {\n                    this._loadRule(children, parent);\n                }\n            };\n\n            rules.map((_rule, index) => {\n                if (parent && (is.String(_rule) || is.Undef(_rule))) return;\n                if (!this.pageEnd && !parent && index >= this.first) return;\n\n                if (!is.Object(_rule) || !getRule(_rule).type)\n                    return err('未定义生成规则的 type 字段', _rule);\n\n                if (_rule.__fc__ && _rule.__fc__.root === rules && this.ctxs[_rule.__fc__.id]) {\n                    loadChildren(_rule.__fc__.rule.children, _rule.__fc__);\n                    return _rule.__fc__;\n                }\n\n                let rule = getRule(_rule);\n\n                const isRepeat = () => {\n                    return !!(rule.field && this.fieldCtx[rule.field] && this.fieldCtx[rule.field][0] !== _rule.__fc__)\n                }\n\n                this.ruleEffect(rule, 'init', {repeat: isRepeat()});\n\n                if (isRepeat()) {\n                    this.vm.$emit('repeat-field', _rule, this.api);\n                }\n\n                let ctx;\n                let isCopy = false;\n                let isInit = !!_rule.__fc__;\n                if (isInit) {\n                    ctx = _rule.__fc__;\n                    const check = !ctx.check(this);\n                    if (ctx.deleted) {\n                        if (check) {\n                            if (isCtrl(ctx)) {\n                                return;\n                            }\n                            ctx.update(this);\n                        }\n                    } else {\n                        if (check) {\n                            if (isCtrl(ctx)) {\n                                return;\n                            }\n                            rules[index] = _rule = _rule._clone ? _rule._clone() : copyRule(_rule);\n                            ctx = null;\n                            isCopy = true;\n                        }\n                    }\n                }\n                if (!ctx) {\n                    ctx = new RuleContext(this, this.parseRule(_rule));\n                    this.bindParser(ctx);\n                } else {\n                    if (ctx.originType !== ctx.rule.type) {\n                        ctx.updateType();\n                        this.bindParser(ctx);\n                    }\n                    this.appendValue(ctx.rule);\n                }\n                [false, true].forEach(b => this.parseEmit(ctx, b));\n                this.syncProp(ctx);\n                ctx.parent = parent || null;\n                ctx.root = rules;\n                this.setCtx(ctx);\n\n                !isCopy && !isInit && this.effect(ctx, 'load');\n\n                ctx.parser.loadChildren === false || loadChildren(ctx.rule.children, ctx);\n\n                if (!parent) {\n                    const _preIndex = preIndex(index);\n                    if (_preIndex > -1 || !index) {\n                        this.sort.splice(_preIndex + 1, 0, ctx.id);\n                    } else {\n                        this.sort.push(ctx.id);\n                    }\n                }\n\n                const r = ctx.rule;\n                if (!ctx.updated) {\n                    ctx.updated = true;\n                    if (is.Function(r.update)) {\n                        this.bus.$once('load-end', () => {\n                            this.refreshUpdate(ctx, r.value);\n                        });\n                    }\n                    this.effect(ctx, 'loaded');\n                }\n\n                if (ctx.input)\n                    Object.defineProperty(r, 'value', this.valueHandle(ctx));\n                if (this.refreshControl(ctx)) this.cycleLoad = true;\n                return ctx;\n            });\n        },\n        refreshControl(ctx) {\n            return ctx.input && ctx.rule.control && this.useCtrl(ctx);\n        },\n        useCtrl(ctx) {\n            const controls = getCtrl(ctx), validate = [], api = this.api;\n            if (!controls.length) return false;\n\n            for (let i = 0; i < controls.length; i++) {\n                const control = controls[i], handleFn = control.handle || (val => val === control.value);\n                if (!is.trueArray(control.rule)) continue;\n                const data = {\n                    ...control,\n                    valid: invoke(() => handleFn(ctx.rule.value, api)),\n                    ctrl: findCtrl(ctx, control.rule),\n                    isHidden: is.String(control.rule[0]),\n                };\n                if ((data.valid && data.ctrl) || (!data.valid && !data.ctrl && !data.isHidden)) continue;\n                validate.push(data);\n            }\n            if (!validate.length) return false;\n\n            let flag = false;\n            this.deferSyncValue(() => {\n                validate.reverse().forEach(({isHidden, valid, rule, prepend, append, child, ctrl}) => {\n                    if (isHidden) {\n                        valid ? ctx.ctrlRule.push({\n                            __ctrl: true,\n                            children: rule,\n                            valid\n                        })\n                            : ctx.ctrlRule.splice(ctx.ctrlRule.indexOf(ctrl), 1);\n                        this.vm.$nextTick(() => {\n                            this.api.hidden(!valid, rule);\n                        });\n                        return;\n                    }\n                    if (valid) {\n                        flag = true;\n                        const ruleCon = {\n                            type: 'fcFragment',\n                            native: true,\n                            __ctrl: true,\n                            children: rule,\n                        }\n                        ctx.ctrlRule.push(ruleCon);\n                        this.bus.$once('load-start', () => {\n                            // this.cycleLoad = true;\n                            if (prepend) {\n                                api.prepend(ruleCon, prepend, child)\n                            } else if (append || child) {\n                                api.append(ruleCon, append || ctx.id, child)\n                            } else {\n                                ctx.root.splice(ctx.root.indexOf(ctx.origin) + 1, 0, ruleCon);\n                            }\n                        });\n                    } else {\n                        ctx.ctrlRule.splice(ctx.ctrlRule.indexOf(ctrl), 1);\n                        const ctrlCtx = byCtx(ctrl);\n                        ctrlCtx && ctrlCtx.rm();\n                    }\n                });\n            });\n            this.vm.$emit('control', ctx.origin, this.api);\n            this.effect(ctx, 'control');\n            return flag;\n        },\n        reloadRule(rules) {\n            return this._reloadRule(rules);\n        },\n        _reloadRule(rules) {\n            // console.warn('%c reload', 'color:red');\n            if (!rules) rules = this.rules;\n\n            const ctxs = {...this.ctxs};\n\n            this.clearNextTick();\n            this.$render.clearOrgChildren();\n            this.initData(rules);\n            this.fc.rules = rules;\n            this.deferSyncValue(() => {\n                this.bus.$once('load-end', () => {\n                    Object.keys(ctxs).filter(id => this.ctxs[id] === undefined)\n                        .forEach(id => this.rmCtx(ctxs[id]));\n                    this.$render.clearCacheAll();\n                });\n                this.reloading = true;\n                this.loadRule();\n                this.reloading = false;\n                this.refresh();\n                this.vm.$emit('reload', this.api);\n            });\n            this.bus.$off('next-tick', this.nextReload);\n            this.bus.$once('next-tick', this.nextReload);\n            this.vm.$emit('update', this.api);\n        },\n        //todo 组件生成全部通过 alias\n        refresh() {\n            this.vm._refresh();\n        },\n    });\n}\n\nfunction fullRule(rule) {\n    const def = baseRule();\n\n    Object.keys(def).forEach(k => {\n        if (!hasProperty(rule, k)) $set(rule, k, def[k]);\n    });\n    return rule;\n}\n\nfunction getCtrl(ctx) {\n    const control = ctx.rule.control || [];\n    if (is.Object(control)) return [control];\n    else return control;\n}\n\nfunction findCtrl(ctx, rule) {\n    for (let i = 0; i < ctx.ctrlRule.length; i++) {\n        const ctrl = ctx.ctrlRule[i];\n        if (ctrl.children === rule)\n            return ctrl;\n    }\n}\n\nfunction isCtrl(ctx) {\n    return !!ctx.rule.__ctrl;\n}\n","import extend from '@form-create/utils/lib/extend';\nimport {$set} from '@form-create/utils/lib/modify';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport {invoke} from '../frame/util';\nimport toArray from '@form-create/utils/lib/toarray';\n\nexport default function useInput(Handler) {\n    extend(Handler.prototype, {\n        getValue(ctx) {\n            if (is.Undef(ctx.cacheValue)) {\n                ctx.cacheValue = ctx.parser.toValue(this.getFormData(ctx), ctx);\n            }\n            return ctx.cacheValue;\n        },\n        setValue(ctx, value, formValue, setFlag) {\n            if (ctx.deleted) return;\n            ctx.cacheValue = value;\n            this.changeStatus = true;\n            this.nextRefresh();\n            this.$render.clearCache(ctx);\n            this.setFormData(ctx, formValue);\n            this.syncValue();\n            this.valueChange(ctx, value);\n            this.vm.$emit('change', ctx.field, value, ctx.origin, this.api, setFlag || false);\n            this.effect(ctx, 'value');\n        },\n        onInput(ctx, value) {\n            let val;\n            if (ctx.input && (this.isQuote(ctx, val = ctx.parser.toValue(value, ctx)) || this.isChange(ctx, val))) {\n                this.setValue(ctx, val, value);\n            }\n        },\n        setFormData(ctx, value) {\n            $set(this.formData, ctx.id, value === null ? undefined : value);\n        },\n        getFormData(ctx) {\n            return this.formData[ctx.id];\n        },\n        validate() {\n            toEmpty(this.vm.validate);\n            this.fields().forEach(id => {\n                this.fieldCtx[id].forEach(ctx => {\n                    this.vm.validate[ctx.id] = toArray(ctx.rule.validate);\n                });\n            });\n            return this.vm.validate;\n        },\n        syncForm() {\n            toEmpty(this.form);\n            Object.defineProperties(this.form, this.fields().reduce((initial, field) => {\n                const ctx = this.getFieldCtx(field);\n                const handle = this.valueHandle(ctx);\n                handle.configurable = true;\n                initial[field] = handle;\n                return initial;\n            }, this.options.appendValue ? Object.keys(this.appendData).reduce((initial, field) => {\n                initial[field] = {\n                    enumerable: true,\n                    configurable: true,\n                    get: () => {\n                        return this.appendData[field];\n                    },\n                    set: (val) => {\n                        this.appendData[field] = val;\n                    }\n                }\n                return initial;\n            }, {}) : {}));\n            this.syncValue();\n        },\n        valueHandle(ctx) {\n            return {\n                enumerable: true,\n                get: () => {\n                    return this.getValue(ctx);\n                },\n                set: (value) => {\n                    if (this.isChange(ctx, value)) {\n                        this.setValue(ctx, value, ctx.parser.toFormValue(value, ctx), true);\n                    }\n                }\n            };\n        },\n        appendValue(rule) {\n            if (!rule.field || !hasProperty(this.appendData, rule.field)) return;\n            rule.value = this.appendData[rule.field];\n            delete this.appendData[rule.field];\n        },\n        addSubForm(ctx, subForm) {\n            this.subForm[ctx.id] = subForm;\n        },\n        deferSyncValue(fn, sync) {\n            if (!this.deferSyncFn) {\n                this.deferSyncFn = fn;\n            }\n            if (!this.deferSyncFn.sync) {\n                this.deferSyncFn.sync = sync;\n            }\n            invoke(fn);\n            if (this.deferSyncFn === fn) {\n                this.deferSyncFn = null;\n                if (fn.sync) {\n                    this.syncValue();\n                }\n            }\n        },\n        syncValue() {\n            if (this.deferSyncFn) {\n                return this.deferSyncFn.sync = true;\n            }\n            this.vm._updateValue({...this.form});\n        },\n        isChange(ctx, value) {\n            return JSON.stringify(ctx.rule.value, strFn) !== JSON.stringify(value === null ? undefined : value, strFn);\n        },\n        isQuote(ctx, value) {\n            return (is.Object(value) || Array.isArray(value)) && value === ctx.rule.value;\n        },\n        refreshUpdate(ctx, val) {\n            if (is.Function(ctx.rule.update)) {\n                const state = invoke(() => ctx.rule.update(val, ctx.origin, this.api));\n                if (state === undefined) return;\n                ctx.rule.hidden = state === true;\n            }\n        },\n        valueChange(ctx, val) {\n            this.refreshRule(ctx, val);\n            this.bus.$emit('change-' + ctx.field, val);\n        },\n        refreshRule(ctx, val) {\n            if (this.refreshControl(ctx)) {\n                this.$render.clearCacheAll();\n                this.loadRule();\n                this.vm.$emit('update', this.api);\n                this.refresh();\n            }\n            this.refreshUpdate(ctx, val);\n        },\n        appendLink(ctx) {\n            const link = ctx.rule.link;\n            is.trueArray(link) && link.forEach(field => {\n                const fn = () => this.refreshRule(ctx, ctx.rule.value);\n\n                this.bus.$on('change-' + field, fn);\n                ctx.linkOn.push(() => this.bus.$off('change-' + field, fn));\n            });\n        },\n        fields() {\n            return Object.keys(this.fieldCtx);\n        },\n    });\n}\n\n\nfunction strFn(key, val) {\n    return typeof val === 'function' ? '' + val : val;\n}\n\nfunction toEmpty(obj) {\n    Object.keys(obj).forEach(k => delete obj[k]);\n}\n","const BaseParser = {\n    init(ctx) {\n    },\n    toFormValue(value, ctx) {\n        return value\n    },\n    toValue(formValue, ctx) {\n        return formValue;\n    },\n    mounted(ctx) {\n    },\n    render(children, ctx) {\n        return ctx.$render.defaultRender(ctx, children);\n    },\n    preview(children, ctx) {\n        return this.render(children, ctx);\n    },\n    mergeProp(ctx) {\n    }\n}\n\nexport default BaseParser;\n","import extend from '@form-create/utils/lib/extend';\nimport toCase from '@form-create/utils/lib/tocase';\nimport BaseParser from '../factory/parser';\nimport {$del} from '@form-create/utils/lib/modify';\nimport is from '@form-create/utils/lib/type';\nimport {invoke} from '../frame/util';\n\nconst noneKey = ['field', 'value', 'vm', 'template', 'name', 'config', 'control', 'inject', 'sync', 'payload', 'optionsTo', 'update', 'component', 'cache'];\n\nexport default function useContext(Handler) {\n    extend(Handler.prototype, {\n        getCtx(id) {\n            return this.getFieldCtx(id) || this.getNameCtx(id)[0] || this.ctxs[id];\n        },\n        getCtxs(id) {\n            return this.fieldCtx[id] || this.nameCtx[id] || (this.ctxs[id] ? [this.ctxs[id]] : []);\n        },\n        setIdCtx(ctx, key, type) {\n            const field = `${type}Ctx`;\n            if (!this[field][key]) {\n                this[field][key] = [ctx];\n            } else {\n                this[field][key].push(ctx);\n            }\n        },\n        rmIdCtx(ctx, key, type) {\n            const field = `${type}Ctx`;\n            const lst = this[field][key];\n            if (!lst) return false;\n            const flag = lst.splice(lst.indexOf(ctx) >>> 0, 1).length > 0;\n            if (!lst.length) {\n                delete this[field][key];\n            }\n            return flag;\n        },\n        getFieldCtx(field) {\n            return (this.fieldCtx[field] || [])[0];\n        },\n        getNameCtx(name) {\n            return this.nameCtx[name] || [];\n        },\n        setCtx(ctx) {\n            let {id, field, name, rule} = ctx;\n            this.ctxs[id] = ctx;\n            name && this.setIdCtx(ctx, name, 'name');\n            if (!ctx.input) return;\n            this.setIdCtx(ctx, field, 'field');\n            this.setFormData(ctx, ctx.parser.toFormValue(rule.value, ctx));\n            if (this.isMounted && !this.reloading) {\n                this.vm.$emit('change', ctx.field, rule.value, ctx.origin, this.api);\n            }\n        },\n        getParser(ctx) {\n            const list = this.fc.parsers;\n            return list[ctx.originType] || list[toCase(ctx.type)] || list[ctx.trueType] || BaseParser;\n        },\n        bindParser(ctx) {\n            ctx.setParser(this.getParser(ctx));\n        },\n        getType(alias) {\n            const map = this.fc.CreateNode.aliasMap;\n            const type = map[alias] || map[toCase(alias)] || alias;\n            return toCase(type);\n        },\n        noWatch(fn) {\n            if (!this.noWatchFn) {\n                this.noWatchFn = fn;\n            }\n            invoke(fn);\n            if (this.noWatchFn === fn) {\n                this.noWatchFn = null;\n            }\n        },\n        watchCtx(ctx) {\n            const vm = this.vm;\n            Object.keys(ctx.rule).filter(k => k[0] !== '_' && k[0] !== '$' && noneKey.indexOf(k) === -1).forEach((key) => {\n                const flag = key === 'children';\n                ctx.watch.push(vm.$watch(() => ctx.rule[key], (n, o) => {\n                    if (this.loading || this.noWatchFn || this.reloading) return;\n                    if (flag && ctx.parser.loadChildren === false) {\n                        this.$render.clearCache(ctx);\n                        this.nextRefresh();\n                        return;\n                    }\n                    this.watching = true;\n                    // if (key === 'hidden')\n                    //     ctx.updateKey(true);\n                    // else\n                    if (key === 'link') {\n                        ctx.link();\n                        return;\n                    } else if (['props', 'on', 'nativeOn', 'deep'].indexOf(key) > -1) {\n                        this.parseInjectEvent(ctx.rule, n || {});\n                        if (key === 'props' && ctx.input) {\n                            this.setFormData(ctx, ctx.parser.toFormValue(ctx.rule.value, ctx));\n                        }\n                    } else if (['emit', 'nativeEmit'].indexOf(key) > -1)\n                        this.parseEmit(ctx, key === 'emit');\n                    else if (['prefix', 'suffix'].indexOf(key) > -1)\n                        n && this.loadFn(n, ctx.rule);\n                    else if (key === 'type') {\n                        ctx.updateType();\n                        this.bindParser(ctx);\n                    } else if (key === 'children') {\n                        const flag = is.trueArray(n);\n                        this.deferSyncValue(() => {\n                            if (n !== o) {\n                                this.rmSub(o);\n                                this.$render.initOrgChildren();\n                            }\n                            flag && this.loadChildren(n, ctx);\n                            this.vm.$emit('update', this.api);\n                        });\n                    }\n                    this.$render.clearCache(ctx);\n                    this.watching = false;\n                }, {deep: !flag, sync: flag}));\n            });\n            this.watchEffect(ctx);\n        },\n        rmSub(sub) {\n            is.trueArray(sub) && sub.forEach(r => {\n                r && r.__fc__ && this.rmCtx(r.__fc__);\n            })\n        },\n        rmCtx(ctx) {\n            if (ctx.deleted) return;\n            const {id, field, input, name} = ctx;\n            if (ctx.input) {\n                Object.defineProperty(ctx.rule, 'value', {\n                    value: ctx.rule.value,\n                    writable: true\n                });\n            }\n\n            $del(this.ctxs, id);\n            $del(this.$render.tempList, id);\n            $del(this.$render.orgChildren, id);\n            $del(this.vm.ctxInject, id);\n            $del(this.formData, id);\n            $del(this.subForm, id);\n            $del(ctx, 'cacheValue');\n\n            input && $del(this.form, field);\n            input && this.rmIdCtx(ctx, field, 'field');\n            name && this.rmIdCtx(ctx, name, 'name');\n\n            this.deferSyncValue(() => {\n                if (!this.reloading) {\n                    if (ctx.parser.loadChildren !== false) {\n                        if (is.trueArray(ctx.rule.children)) {\n                            ctx.rule.children.forEach(h => h.__fc__ && this.rmCtx(h.__fc__));\n                        }\n                    }\n                    if (ctx.root === this.rules) {\n                        this.vm._renderRule();\n                    }\n                }\n            }, input);\n\n            const index = this.sort.indexOf(id);\n            if (index > -1) {\n                this.sort.splice(index, 1);\n            }\n\n            this.$render.clearCache(ctx);\n            ctx.delete();\n            this.effect(ctx, 'deleted');\n            input && !this.fieldCtx[field] && this.vm.$emit('removeField', field, ctx.rule, this.api);\n            ctx.rule.__ctrl || this.vm.$emit('removeRule', ctx.rule, this.api);\n            return ctx;\n        },\n    })\n}\n","import extend from '@form-create/utils/lib/extend';\nimport is from '@form-create/utils/lib/type';\nimport {invoke} from '../frame/util';\n\n\nexport default function useLifecycle(Handler) {\n    extend(Handler.prototype, {\n        mounted() {\n            const _mounted = () => {\n                this.isMounted = true;\n                this.lifecycle('mounted');\n            }\n            if (this.pageEnd) {\n                _mounted();\n            } else {\n                this.bus.$once('page-end', _mounted);\n            }\n        },\n        lifecycle(name) {\n            const fn = this.options[name];\n            is.Function(fn) && invoke(() => fn(this.api));\n            this.vm.$emit(name, this.api);\n        },\n    })\n}\n","import extend from '@form-create/utils/lib/extend';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\n\n\nexport default function useEffect(Handler) {\n    extend(Handler.prototype, {\n        useProvider() {\n            const ps = this.fc.providers;\n            Object.keys(ps).forEach(k => {\n                const prop = ps[k];\n                prop._c = getComponent(prop);\n                this.onEffect(prop);\n                this.providers[k] = prop;\n            });\n        },\n        onEffect(provider) {\n            const used = [];\n            (provider._c || ['*']).forEach(name => {\n                const type = name === '*' ? '*' : this.getType(name);\n                if (used.indexOf(type) > -1) return;\n                used.push(type);\n                this.bus.$on(`p:${provider.name}:${type}:${provider.input ? 1 : 0}`, (event, args) => {\n                    provider[event] && provider[event](...args);\n                });\n            });\n            provider._used = used;\n        },\n        watchEffect(ctx) {\n            const vm = this.vm;\n            let effect = {};\n            Object.keys(ctx.rule.effect || {}).forEach(k => {\n                effect[k] = () => ctx.rule.effect[k];\n            })\n            Object.keys(ctx.rule).forEach(k => {\n                if (k[0] === '$') {\n                    effect[k.substr(1)] = () => ctx.rule[k];\n                }\n            })\n            Object.keys(effect || {}).forEach(k => {\n                ctx.watch.push(vm.$watch(effect[k], (n) => {\n                    this.effect(ctx, 'watch', {[k]: n});\n                }, {deep: true}));\n            });\n        },\n        ruleEffect(rule, event, append) {\n            this.emitEffect({\n                rule,\n                input: !!rule.field,\n                type: this.getType(rule.type)\n            }, event, append);\n        },\n        effect(ctx, event, custom) {\n            this.emitEffect({\n                rule: ctx.rule,\n                input: ctx.input,\n                type: ctx.trueType,\n                ctx,\n                custom\n            }, event);\n        },\n        getEffect(rule, name) {\n            if (hasProperty(rule, '$' + name)) {\n                return rule['$' + name];\n            }\n            if (hasProperty(rule, 'effect') && hasProperty(rule.effect, name))\n                return rule.effect[name];\n            return undefined;\n        },\n        emitEffect({ctx, rule, input, type, custom}, event, append) {\n            if (!type || type === 'fcFragment') return;\n            const effect = custom ? custom : (Object.keys(rule).reduce((i, k) => {\n                if (k[0] === '$') {\n                    i[k.substr(1)] = rule[k];\n                }\n                return i;\n            }, {...rule.effect || {}}));\n            Object.keys(effect).forEach(attr => {\n                const p = this.providers[attr];\n                if (!p || (p.input && !input)) return;\n                let _type;\n                if (!p._c) {\n                    _type = '*';\n                } else if (p._used.indexOf(type) > -1) {\n                    _type = type;\n                } else {\n                    return;\n                }\n                const data = {value: effect[attr], getValue: () => this.getEffect(rule, attr), ...(append || {})};\n                if (ctx) {\n                    data.getProp = () => ctx.effectData(attr);\n                    data.clearProp = () => ctx.clearEffectData(attr);\n                    data.mergeProp = (prop) => mergeProps([prop], data.getProp());\n                }\n                this.bus.$emit(`p:${attr}:${_type}:${p.input ? 1 : 0}`, event, [data, rule, this.api]);\n            });\n        }\n    });\n}\n\nfunction unique(arr) {\n    return arr.filter(function (item, index, arr) {\n        return arr.indexOf(item, 0) === index;\n    });\n}\n\nfunction getComponent(p) {\n    const c = p.components;\n    if (Array.isArray(c)) return unique(c.filter(v => v !== '*'));\n    else if (is.String(c)) return [c];\n    else return false;\n}\n","import Api from '../frame/api';\nimport Render from '../render';\nimport extend from '@form-create/utils/lib/extend';\nimport {funcProxy} from '../frame/util';\nimport useInject from './inject';\nimport usePage from './page';\nimport useRender from './render';\nimport useLoader from './loader';\nimport useInput from './input';\nimport useContext from './context';\nimport useLifecycle from './lifecycle';\nimport useEffect from './effect';\n\n\nexport default function Handler(fc) {\n    extend(this, {\n        fc,\n        vm: fc.vm,\n        watching: false,\n        loading: false,\n        reloading: false,\n        noWatchFn: null,\n        deferSyncFn: null,\n        isMounted: false,\n        formData: {},\n        subForm: {},\n        form: {},\n        appendData: {},\n        providers: {},\n        cycleLoad: null,\n        loadedId: 1,\n        nextTick: null,\n        changeStatus: false,\n        pageEnd: true,\n        nextReload: () => {\n            this.lifecycle('reload');\n        }\n    });\n\n    funcProxy(this, {\n        options() {\n            return fc.options;\n        },\n        bus() {\n            return fc.bus;\n        },\n    })\n\n    this.initData(fc.rules);\n\n    this.$manager = new fc.manager(this);\n    this.$render = new Render(this);\n    this.api = fc.extendApi(Api(this), this);\n}\n\nextend(Handler.prototype, {\n    initData(rules) {\n        extend(this, {\n            ctxs: {},\n            fieldCtx: {},\n            nameCtx: {},\n            sort: [],\n            rules,\n        });\n    },\n    init() {\n        this.appendData = {...this.fc.options.formData || {}, ...this.vm.value || {}, ...this.appendData};\n        this.useProvider();\n        this.usePage();\n        this.loadRule();\n        this.$manager.__init();\n        this.vm.$set(this.vm, 'formData', this.formData);\n    },\n})\n\nuseInject(Handler);\nusePage(Handler);\nuseRender(Handler);\nuseLoader(Handler);\nuseInput(Handler);\nuseContext(Handler);\nuseLifecycle(Handler);\nuseEffect(Handler);\n","// https://github.com/ElemeFE/element/blob/dev/packages/upload/src/ajax.js\n\nfunction getError(action, option, xhr) {\n    const msg = `fail to ${action} ${xhr.status}'`;\n    const err = new Error(msg);\n    err.status = xhr.status;\n    err.url = action;\n    return err;\n}\n\nfunction getBody(xhr) {\n    const text = xhr.responseText || xhr.response;\n    if (!text) {\n        return text;\n    }\n\n    try {\n        return JSON.parse(text);\n    } catch (e) {\n        return text;\n    }\n}\n\nexport default function fetch(option) {\n    if (typeof XMLHttpRequest === 'undefined') {\n        return;\n    }\n\n    const xhr = new XMLHttpRequest();\n    const action = option.action;\n\n    xhr.onerror = function error(e) {\n        option.onError(e);\n    };\n\n    xhr.onload = function onload() {\n        if (xhr.status < 200 || xhr.status >= 300) {\n            return option.onError(getError(action, option, xhr), getBody(xhr));\n        }\n\n        option.onSuccess(getBody(xhr));\n    };\n\n    xhr.open(option.method || 'get', action, true);\n\n    let formData;\n    if (option.data) {\n        if ((option.dataType || '').toLowerCase() !== 'json') {\n            formData = new FormData();\n            Object.keys(option.data).map(key => {\n                formData.append(key, option.data[key]);\n            });\n        } else {\n            formData = JSON.stringify(option.data);\n            xhr.setRequestHeader('content-type', 'application/json');\n        }\n    }\n\n\n    if (option.withCredentials && 'withCredentials' in xhr) {\n        xhr.withCredentials = true;\n    }\n\n    const headers = option.headers || {};\n\n    Object.keys(headers).forEach(item => {\n        if (headers[item] !== null) {\n            xhr.setRequestHeader(item, headers[item]);\n        }\n    });\n    xhr.send(formData);\n}\n","const NAME = 'fcFragment';\n\nexport default {\n    name: NAME,\n    functional: true,\n    props: ['vnode'],\n    render(h, ctx) {\n        return ctx.props.vnode ? ctx.props.vnode : ctx.children\n    }\n}\n","import toLine from '@form-create/utils/lib/toline';\nimport is from '@form-create/utils/lib/type';\nimport toString from '@form-create/utils/lib/tostring';\nimport extend from '@form-create/utils/lib/extend';\nimport Vue from 'vue';\n\nfunction parseProp(prop) {\n    if (is.String(prop))\n        return {domProps: {innerHTML: prop}};\n    return prop;\n}\n\nexport function CreateNodeFactory() {\n\n    const aliasMap = {};\n\n    function CreateNode(vm) {\n        vm && this.setVm(vm);\n    }\n\n    extend(CreateNode.prototype, {\n        setVm(vm) {\n            this.vm = vm;\n            this.$h = vm.$createElement;\n        },\n        make(tag, data, children) {\n            if (Vue.config.isReservedTag(tag) && data.nativeOn) delete data.nativeOn;\n            return this.makeComponent(tag, data, children);\n        },\n        makeComponent(type, data, children) {\n            let Node = this.$h(type, parseProp(data), children || []);\n            Node.context = this.vm;\n            return Node;\n        },\n        aliasMap\n    });\n\n    extend(CreateNode, {\n        aliasMap,\n        alias(alias, name) {\n            aliasMap[alias] = name;\n        },\n        use(nodes) {\n            Object.keys(nodes).forEach((k) => {\n                const line = toLine(k);\n                const lower = toString(k).toLocaleLowerCase();\n                const v = nodes[k];\n                [k, line, lower].forEach(n => {\n                    CreateNode.alias(k, v);\n                    CreateNode.prototype[n] = function (data, children) {\n                        return this.make(v, data, children);\n                    };\n                });\n            });\n        }\n    })\n\n    return CreateNode;\n}\n","import mergeProps from '@form-create/utils/lib/mergeprops';\nimport unique from '@form-create/utils/lib/unique';\nimport extend from '@form-create/utils/lib/extend';\n\nexport function createManager(proto) {\n    class CustomManager extends Manager {\n    }\n\n    Object.assign(CustomManager.prototype, proto);\n    return CustomManager;\n}\n\nexport default function Manager(handler) {\n    extend(this, {\n        $handle: handler,\n        vm: handler.vm,\n        options: {},\n        ref: 'fcForm',\n        mergeOptionsRule: {\n            normal: ['form', 'row', 'info', 'submitBtn', 'resetBtn']\n        }\n    });\n    this.updateKey();\n    this.init();\n}\n\nextend(Manager.prototype, {\n    __init() {\n        this.$render = this.$handle.$render;\n        this.$r = (...args) => this.$render.renderRule(...args);\n    },\n    updateKey() {\n        this.key = unique();\n    },\n    //TODO interface\n    init() {\n    },\n    update() {\n    },\n    beforeRender() {\n    },\n    form() {\n        return this.vm.$refs[this.ref];\n    },\n    mergeOptions(args, opt) {\n        return mergeProps(args.map(v => this.tidyOptions(v)), opt, this.mergeOptionsRule);\n    },\n    updateOptions(options) {\n        this.options = this.mergeOptions([options], this.getDefaultOptions());\n        this.update();\n    },\n    tidyOptions(options) {\n        return options;\n    },\n    tidyRule(ctx) {\n    },\n    mergeProp(ctx) {\n    },\n    getDefaultOptions() {\n        return {};\n    },\n    render(children) {\n    }\n})\n","import {err} from '@form-create/utils/lib/console';\nimport fetch from './fetch';\nimport {invoke} from './util';\nimport is from '@form-create/utils/lib/type';\nimport deepSet from '@form-create/utils/lib/deepset';\n\nconst $fetch = {\n    name: 'fetch',\n    loaded(...args) {\n        run(...args);\n    },\n    watch(inject, rule, api) {\n        if (!run(inject, rule, api)) {\n            inject.clearProp();\n            api.sync(rule);\n        }\n    }\n};\n\nconst $required = {\n    name: 'required',\n    load(inject, rule, api) {\n        const val = parseVa(inject.getValue());\n        if (val.required === false) {\n            inject.clearProp();\n        } else {\n            const validate = {\n                ...val,\n                required: true,\n                validator(_, v, call) {\n                    is.empty(v) ? call(validate.message) : call();\n                }\n            };\n            if (!validate.message) {\n                validate.message = rule.title + ' is required';\n            }\n            inject.getProp().validate = [validate];\n        }\n        api.sync(rule);\n    },\n    watch(...args) {\n        $required.load(...args);\n    }\n}\n\nfunction parseVa(val) {\n    if (is.Boolean(val)) {\n        return {required: val}\n    } else if (is.String(val)) {\n        return {message: val};\n    } else if (!is.Object(val)) {\n        return {};\n    } else {\n        return val;\n    }\n}\n\nfunction parseOpt(option) {\n    if (is.String(option)) {\n        option = {\n            action: option,\n            to: 'options'\n        }\n    }\n    return option;\n}\n\nfunction run(inject, rule, api) {\n    let option = inject.value;\n    if (is.Function(option)) {\n        option = option(rule, api);\n    }\n    option = parseOpt(option);\n    if (!option || !option.action) {\n        return false;\n    }\n    if (!option.to) {\n        option.to = 'options';\n    }\n    const onError = option.onError;\n\n    const check = () => {\n        if (!inject.getValue()) {\n            inject.clearProp();\n            api.sync(rule);\n            return true;\n        }\n    }\n\n    const set = (val) => {\n        if (val === undefined) {\n            inject.clearProp();\n            api.sync(rule);\n        } else {\n            deepSet(inject.getProp(), option.to, val);\n        }\n    }\n\n    invoke(() => fetch({\n        ...option,\n        onSuccess(body) {\n            if (check()) return;\n            set((option.parse || ((v) => v.data))(body, rule, api))\n            api.sync(rule);\n        },\n        onError(e) {\n            set(undefined)\n            if (check()) return;\n            (onError || ((e) => err(e.message || 'fetch fail ' + option.action)))(e, rule, api);\n        }\n    }));\n\n    return true;\n}\n\nexport default {\n    fetch: $fetch,\n    required: $required,\n};\n","import is from '@form-create/utils/lib/type';\n\nconst name = 'html';\n\nexport default {\n    name,\n    loadChildren: false,\n    render(children, ctx) {\n        if (!ctx.prop.domProps) ctx.prop.domProps = {};\n        ctx.prop.domProps.innerHTML = children;\n        return ctx.vNode.make(ctx.prop.props.tag || 'div', ctx.prop);\n    },\n    renderChildren(ctx) {\n        if (Array.isArray(ctx.rule.children)) {\n            return ctx.rule.children.filter(v => is.String(v)).join('');\n        }\n        return '';\n    }\n}\n","import $FormCreate from '../components/formCreate';\nimport Vue from 'vue';\nimport makerFactory from '../factory/maker';\nimport Handle from '../handler';\nimport fetch from './fetch';\nimport {creatorFactory} from '..';\nimport BaseParser from '../factory/parser';\nimport {copyRule, copyRules, mergeGlobal, parseJson, toJson, parseFn} from './util';\nimport fragment from '../components/fragment';\nimport is from '@form-create/utils/lib/type';\nimport toCase from '@form-create/utils/lib/tocase';\nimport extend from '@form-create/utils/lib/extend';\nimport {CreateNodeFactory} from '../factory/node';\nimport {createManager} from '../factory/manager';\nimport {arrayAttrs, keyAttrs, normalAttrs} from './attrs';\nimport {appendProto} from '../factory/creator';\nimport $provider from './provider';\nimport {deepCopy} from '@form-create/utils/lib/deepextend';\nimport html from '../parser/html';\n\nexport let _vue = typeof window !== 'undefined' && window.Vue ? window.Vue : Vue;\n\nfunction _parseProp(name, id) {\n    let prop;\n    if (arguments.length === 2) {\n        prop = arguments[1];\n        id = prop[name];\n    } else {\n        prop = arguments[2];\n    }\n    return {id, prop};\n}\n\nfunction nameProp() {\n    return _parseProp('name', ...arguments);\n}\n\nfunction _getEl(options) {\n    if (!options || !options.el) return window.document.body;\n    return is.Element(options.el)\n        ? options.el\n        : document.querySelector(options.el);\n}\n\nfunction mountForm(rules, option) {\n    const $vm = new _vue({\n        data() {\n            //todo 外部无法修改\n            return {rule: rules, option: option || {}};\n        },\n        render(h) {\n            return h('FormCreate', {ref: 'fc', props: this.$data});\n        }\n    });\n    $vm.$mount();\n    return $vm;\n}\n\nfunction exportAttrs(attrs) {\n    const key = attrs.key || [];\n    const array = attrs.array || [];\n    const normal = attrs.normal || [];\n    keyAttrs.push(...key);\n    arrayAttrs.push(...array);\n    normalAttrs.push(...normal);\n\n    appendProto([...key, ...array, ...normal]);\n}\n\nlet id = 1;\nconst instance = {};\n\n//todo 表单嵌套\nexport default function FormCreateFactory(config) {\n\n    const components = {\n        [fragment.name]: fragment\n    };\n    const parsers = {};\n    const directives = {};\n    const providers = {\n        ...$provider\n    };\n    const maker = makerFactory();\n    let globalConfig = {global: {}};\n    const data = {};\n    const CreateNode = CreateNodeFactory();\n\n    exportAttrs(config.attrs || {});\n\n    function getApi(name) {\n        const val = instance[name];\n        if (Array.isArray(val))\n            return [...val];\n        return val;\n    }\n\n    function directive() {\n        const data = nameProp(...arguments);\n        if (data.id && data.prop) directives[data.id] = data.prop;\n    }\n\n    function register() {\n        const data = nameProp(...arguments);\n        if (data.id && data.prop) providers[data.id] = {...data.prop, name: data.id};\n    }\n\n    function componentAlias(alias) {\n        CreateNode.use(alias);\n    }\n\n    function parser() {\n        const data = nameProp(...arguments);\n        if (!data.id || !data.prop) return;\n        const name = toCase(data.id);\n        const parser = data.prop;\n        const base = parser.merge === true ? parsers[name] : undefined;\n        parsers[name] = {...(base || BaseParser), ...parser};\n        maker[name] = creatorFactory(name);\n        parser.maker && extend(maker, parser.maker);\n    }\n\n    function component(id, component) {\n        let name;\n        if (is.String(id)) {\n            name = toCase(id);\n            if (['form-create', 'formcreate'].indexOf(name) > -1) {\n                return $form();\n            } else if (component === undefined) {\n                return components[name];\n            }\n        } else {\n            name = toCase(id.name);\n            component = id;\n        }\n        if (!name || !component) return;\n        components[name] = component;\n        if (component.formCreateParser) parser(name, component.formCreateParser);\n    }\n\n    function $form() {\n        return _vue.extend($FormCreate(FormCreate));\n    }\n\n    function $vnode() {\n        return _vue.extend(fragment);\n    }\n\n    //todo 检查回调函数作用域\n    function use(fn, opt) {\n        if (is.Function(fn.install)) fn.install(create, opt);\n        else if (is.Function(fn)) fn(create, opt);\n        return this;\n    }\n\n    function create(rules, _opt, parent) {\n        let $vm = mountForm(rules, _opt || {});\n        const _this = $vm.$refs.fc.formCreate;\n        _this.$parent = parent;\n        _getEl(_this.options).appendChild($vm.$el);\n        return _this.api();\n    }\n\n    function factory(inherit) {\n        let _config = {...config};\n        if (inherit) {\n            _config.inherit = {\n                components,\n                parsers,\n                directives,\n                providers,\n                maker,\n                data\n            }\n        } else {\n            delete _config.inherit;\n        }\n        return FormCreateFactory(_config);\n    }\n\n    function FormCreate(vm, rules, options) {\n        extend(this, {\n            id: id++,\n            vm,\n            create,\n            manager: createManager(config.manager),\n            parsers,\n            providers,\n            rules: Array.isArray(rules) ? rules : [],\n            name: vm.$options.propsData.name,\n            inFor: vm.$options.propsData.inFor,\n            prop: {\n                components,\n                directives,\n            },\n            CreateNode,\n            bus: new _vue,\n            unwatch: null,\n            options: options || {},\n            extendApi: config.extendApi || (api => api)\n        })\n        this.init();\n        this.initOptions(this.options);\n        if (this.name) {\n            if (this.inFor) {\n                if (!instance[this.name]) instance[this.name] = [];\n                instance[this.name].push(this.api());\n            } else {\n                instance[this.name] = this.api();\n            }\n        }\n    }\n\n    extend(FormCreate.prototype, {\n        init() {\n            const vm = this.vm;\n            const h = new Handle(this);\n            this.$handle = h;\n            vm.$f = h.api;\n            vm.$emit('input', h.api);\n\n            vm.$on('hook:created', () => {\n                if (this.isSub()) {\n                    this.unwatch = vm.$watch(() => vm.$pfc.option, () => {\n                        this.initOptions(this.options);\n                        vm.$f.refresh();\n                    }, {deep: true});\n                    this.initOptions(this.options);\n                }\n                this.created();\n            })\n            vm.$on('hook:mounted', () => {\n                this.mounted();\n            });\n            vm.$on('hook:beforeDestroy', () => {\n                vm.destroyed = true;\n                this.unwatch && this.unwatch();\n                h.reloadRule([]);\n                if (this.name) {\n                    if (this.inFor) {\n                        const idx = instance[this.name].indexOf(this.api());\n                        instance[this.name].splice(idx, 1);\n                    } else {\n                        delete instance[this.name];\n                    }\n                }\n            });\n            vm.$on('hook:updated', () => {\n                h.bindNextTick(() => this.bus.$emit('next-tick', h.api));\n            });\n        },\n        isSub() {\n            return this.vm.$pfc && this.vm.extendOption;\n        },\n        initOptions(options) {\n            this.options = {formData: {}, submitBtn: {}, resetBtn: {}, ...deepCopy(globalConfig)};\n            if (this.isSub()) {\n                this.mergeOptions(this.options, this.vm.$pfc.$f.config || {}, true);\n            }\n            this.updateOptions(options);\n        },\n        mergeOptions(target, opt, parent) {\n            opt = deepCopy(opt);\n            parent && ['page', 'onSubmit', 'mounted', 'reload', 'formData', 'el'].forEach((n) => {\n                delete opt[n];\n            });\n            if (opt.global) {\n                target.global = mergeGlobal(target.global, opt.global);\n                delete opt.global;\n            }\n            this.$handle.$manager.mergeOptions([opt], target);\n            return target;\n        },\n        updateOptions(options) {\n            this.mergeOptions(this.options, options);\n            this.$handle.$manager.updateOptions(this.options);\n        },\n        created() {\n            this.$handle.init();\n            this.vm.$emit('created', this.api());\n        },\n        api() {\n            return this.$handle.api;\n        },\n        render() {\n            return this.$handle.render();\n        },\n        mounted() {\n            this.$handle.mounted();\n        },\n    })\n\n\n    function useAttr(formCreate) {\n        extend(formCreate, {\n            version: config.version,\n            ui: config.ui,\n            data,\n            maker,\n            component,\n            directive,\n            register,\n            $vnode,\n            parser,\n            use,\n            factory,\n            componentAlias,\n            copyRule,\n            copyRules,\n            fetch,\n            $form,\n            parseFn,\n            parseJson,\n            toJson,\n            getApi,\n            init(rules, _opt = {}) {\n                let $vm = mountForm(rules, _opt), _this = $vm.$refs.fc.formCreate;\n                return {\n                    mount($el) {\n                        if ($el && is.Element($el))\n                            _this.options.el = $el;\n                        _getEl(_this.options).appendChild($vm.$el);\n                        return _this.api();\n                    },\n                    remove() {\n                        $vm.$el.parentNode && $vm.$el.parentNode.removeChild($vm.$el);\n                    },\n                    destroy() {\n                        this.remove();\n                        $vm.$destroy();\n                    },\n                    $f: _this.api()\n                };\n            }\n        });\n    }\n\n    function useStatic(formCreate) {\n        extend(formCreate, {\n            create,\n            install(Vue, options) {\n                globalConfig = {...globalConfig, ...(options || {})}\n                if (Vue._installedFormCreate === true) return;\n                Vue._installedFormCreate = true;\n                _vue = Vue;\n\n                const $formCreate = function (rules, opt = {}) {\n                    return create(rules, opt, this);\n                };\n\n                useAttr($formCreate);\n\n                Vue.prototype.$formCreate = $formCreate;\n                Vue.component('FormCreate', $form());\n                Vue.component('FcFragment', $vnode());\n            }\n        })\n    }\n\n    useAttr(create);\n    useStatic(create);\n\n    CreateNode.use({fragment: 'fcFragment'});\n\n    parser(html);\n\n    if (config.install) create.use(config);\n\n    if (config.inherit) {\n        const inherit = config.inherit;\n        inherit.components && extend(components, inherit.components);\n        inherit.parsers && extend(parsers, inherit.parsers);\n        inherit.directives && extend(directives, inherit.directives);\n        inherit.providers && extend(providers, inherit.providers);\n        inherit.maker && extend(maker, inherit.maker);\n        inherit.data && extend(data, inherit.data);\n    }\n\n    return create;\n}\n","import moment from 'moment';\nimport {creatorFactory} from '@form-create/core/src/index';\n\nconst FORMAT_TYPE = {\n    date: 'YYYY-MM-DD',\n    month: 'YYYY-MM',\n    week: 'YYYY-wo',\n    range: 'YYYY-MM-DD HH:mm:ss'\n};\n\nconst getType = function (ctx) {\n    const type = ctx.prop.props.type;\n    if (['date', 'month', 'week', 'range'].indexOf(type) === -1) return 'date';\n    return type;\n};\n\nconst toMoment = function (val) {\n    return val instanceof moment ? val : moment(val);\n};\n\nfunction getFormat(ctx) {\n    return ctx.prop.props.format || (ctx.el ? ctx.el.format : '') || FORMAT_TYPE[getType(ctx)];\n}\n\nconst name = 'datePicker';\n\nexport default {\n    name,\n    maker: (function () {\n        return ['date', 'month', 'week'].reduce((initial, type) => {\n            initial[type] = creatorFactory(name, {type});\n            return initial\n        }, {\n            dateRange: creatorFactory(name, {type:'range'}),\n            datetimeRange: creatorFactory(name, m => m.props({type: 'range', showTime: true}))\n        })\n    }()),\n    toFormValue(value, ctx) {\n        let parseValue, type = getType(ctx);\n        const isArr = Array.isArray(value);\n        if (type === 'range') {\n            if (isArr) {\n                parseValue = value.map(v => v ? toMoment(v) : null);\n            } else {\n                parseValue = []\n            }\n        } else {\n            parseValue = isArr ? ((value[0] ? toMoment(value[0]) : null) || null) : (value ? toMoment(value) : null);\n        }\n        return parseValue;\n    },\n    toValue(formValue, ctx) {\n        const format = getFormat(ctx);\n        if (Array.isArray(formValue))\n            return formValue.map(v => v ? v.format(format) : v);\n        else\n            return formValue ? formValue.format(format) : formValue;\n    },\n    render(children, ctx) {\n        const type = getType(ctx) + 'Picker';\n        return ctx.$render.vNode[type](ctx.prop, children);\n    }\n\n}\n","import {creatorFactory} from '@form-create/core/src/index';\n\nconst name = 'hidden';\n\nexport default {\n    name,\n    maker: {\n        [name]: (field, value) => creatorFactory(name)('', field, value),\n    },\n    render() {\n        return [];\n    }\n}\n","import {creatorFactory} from '@form-create/core/src/index';\n\nconst name = 'input';\nexport default {\n    name,\n    maker: (function () {\n        return ['password', 'url', 'email', 'text', 'textarea', 'search'].reduce((maker, type) => {\n            maker[type] = creatorFactory(name, {type});\n            return maker;\n        }, {\n            idate: creatorFactory(name, {type:'date'})\n        });\n    }()),\n    render(children, ctx) {\n        let type = ctx.prop.props.type;\n        if (['textarea', 'search'].indexOf(type) === -1) type = 'input';\n\n        type = (type === 'textarea' ? 'ATextarea' : (type === 'search' ? 'AInputSearch' : 'AInput'));\n        return ctx.$render.vNode.make(type, ctx.prop, children);\n    }\n}\n","import moment from 'moment';\n\nconst toMoment = function (val, format) {\n    return val instanceof moment ? val : moment(val, format);\n};\n\nfunction getFormat(ctx) {\n    return ctx.prop.props.format || (ctx.el ? ctx.el.format : '') || 'HH:mm:ss';\n}\n\nexport default {\n    name: 'timePicker',\n    toFormValue(value, ctx) {\n        return value ? toMoment(value, getFormat(ctx)) : null;\n    },\n\n    toValue(formValue, ctx) {\n        return formValue ? formValue.format(getFormat(ctx)) : formValue;\n    },\n\n}\n\n","export default {\n    name: 'tree',\n    mergeProp(ctx) {\n        const props = ctx.prop.props;\n        if (!props.replaceFields)\n            props.replaceFields = {\n                key: 'id'\n            };\n        else if (!props.replaceFields.key) props.replaceFields.key = 'id';\n        props.checkedKeys = ctx.rule.value;\n        props.checkable = true;\n    },\n\n}\n\n","export default {\n    name: 'FcRow',\n    render(_, ctx) {\n        return ctx.vNode.col({props: {span: 24}}, [\n            ctx.vNode.row(ctx.prop, _)\n        ])\n    }\n}","import checkbox from './checkbox';\nimport radio from './radio';\nimport select from './select';\nimport datePicker from './datePicker';\nimport hidden from './hidden';\nimport input from './input';\nimport timePicker from './timePicker';\nimport tree from './tree';\nimport row from './row';\n\nexport default [\n    checkbox,\n    datePicker,\n    hidden,\n    input,\n    timePicker,\n    tree,\n    radio,\n    select,\n    row,\n]\n","const PRE = 'a';\nexport default {\n    tooltip: PRE + 'Tooltip',\n    popover: PRE + 'Popover',\n    button: PRE + 'Button',\n    icon: PRE + 'Icon',\n    slider: PRE + 'Slider',\n    rate: PRE + 'Rate',\n    upload: 'fcUpload',\n    cascader: PRE + 'Cascader',\n    timePicker: PRE + 'TimePicker',\n    datePicker: PRE + 'DatePicker',\n    rangePicker: PRE + 'RangePicker',\n    weekPicker: PRE + 'WeekPicker',\n    monthPicker: PRE + 'MonthPicker',\n    'switch': PRE + 'Switch',\n    select: PRE + 'Select',\n    checkbox: PRE + 'CheckboxGroup',\n    radio: PRE + 'RadioGroup',\n    inputNumber: PRE + 'InputNumber',\n    search: PRE + 'InputSearch',\n    textarea: PRE + 'Textarea',\n    formItem: PRE + 'FormModelItem',\n    form: PRE + 'FormModel',\n    frame: 'fcFrame',\n    col: PRE + 'Col',\n    row: PRE + 'Row',\n    tree: PRE + 'Tree',\n    autoComplete: PRE + 'AutoComplete',\n    group: 'fcGroup',\n    subForm: 'fcSubForm',\n    object: 'fcSubForm',\n}\n","const UNDEF = undefined;\n\nexport default function getConfig() {\n    return {\n        form: {\n            hideRequiredMark: false,\n            layout: 'horizontal',\n            labelAlign: 'right',\n            labelCol: {\n                span: 3\n            },\n            wrapperCol: {\n                span: 21\n            },\n            validateOnRuleChange: true\n        },\n        row: {\n            gutter: 0,\n        },\n        submitBtn: {\n            disabled: false,\n            loading: false,\n            type: 'primary',\n            innerText: '提交',\n            show: true,\n            col: UNDEF,\n            click: UNDEF,\n        },\n        resetBtn: {\n            disabled: false,\n            icon: 'sync',\n            loading: false,\n            type: 'default',\n            innerText: '重置',\n            show: false,\n            col: UNDEF,\n            click: UNDEF\n        },\n    };\n}\n","import getConfig from './config';\nimport mergeProps from '@form-create/utils/lib/mergeprops';\nimport is, {hasProperty} from '@form-create/utils/lib/type';\nimport extend from '@form-create/utils/lib/extend';\n\nfunction isTooltip(info) {\n    return info.type === 'tooltip';\n}\n\nfunction tidy(props, name) {\n    if (!hasProperty(props, name)) return;\n    if (is.String(props[name])) {\n        props[name] = {[name]: props[name], show: true};\n    }\n}\n\nfunction isFalse(val) {\n    return val === false;\n}\n\nfunction tidyBool(opt, name) {\n    if (hasProperty(opt, name) && !is.Object(opt[name])) {\n        opt[name] = {show: !!opt[name]};\n    }\n}\n\nexport default {\n    validate(call) {\n        this.form().validate(call);\n    },\n    validateField(field, call) {\n        this.form().validateField(field, call);\n    },\n    clearValidateState(ctx) {\n        const fItem = this.vm.$refs[ctx.wrapRef];\n        if (fItem) {\n            fItem.validateMessage = '';\n            fItem.validateState = '';\n        }\n    },\n    tidyOptions(options) {\n        ['submitBtn', 'resetBtn', 'row', 'info', 'wrap', 'col'].forEach(name => {\n            tidyBool(options, name);\n        })\n        return options;\n    },\n    tidyRule({prop}) {\n        tidy(prop, 'title');\n        tidy(prop, 'info');\n        return prop;\n    },\n    mergeProp(ctx) {\n        ctx.prop = mergeProps([{\n            info: this.options.info || {},\n            wrap: this.options.wrap || {},\n            col: this.options.col || {},\n        }, ctx.prop], {\n            info: {\n                type: 'popover',\n                placement: 'topLeft',\n                icon: 'question-circle-o'\n            },\n            title: {},\n            col: {span: 24},\n            wrap: {},\n        }, {normal: ['title', 'info', 'col', 'wrap']});\n    },\n    getDefaultOptions() {\n        return getConfig();\n    },\n    update() {\n        const form = this.options.form;\n        this.rule = {\n            props: {...form},\n            nativeOn: {\n                submit: (e) => {\n                    e.preventDefault();\n                }\n            },\n            class: [form.className, form.class, 'form-create'],\n            style: form.style,\n            type: 'form',\n        };\n    },\n    beforeRender() {\n        const {key, ref, $handle} = this;\n        extend(this.rule, {key, ref});\n        extend(this.rule.props, {\n            model: $handle.formData,\n            rules: $handle.validate(),\n        });\n    },\n    render(children) {\n        if (children.length) {\n            children.push(this.makeFormBtn());\n        }\n        return this.$r(this.rule, isFalse(this.options.row.show) ? children : [this.makeRow(children)]);\n    },\n    makeWrap(ctx, children) {\n        const rule = ctx.prop;\n        const uni = `${this.key}${ctx.key}`;\n        const col = rule.col;\n        const {layout, col: _col} = this.rule.props;\n        const item = isFalse(rule.wrap.show) ? children : this.$r(mergeProps([rule.wrap, {\n            props: {\n                ...(rule.wrap || {}),\n                prop: ctx.id,\n                rules: rule.validate,\n                ...(layout !== 'horizontal' ? {labelCol: {}, wrapperCol: {}} : {})\n            },\n            class: rule.className,\n            key: `${uni}fi`,\n            ref: ctx.wrapRef,\n            type: 'formItem',\n        }]), [children, this.makeInfo(rule, uni)]);\n        return (layout === 'inline' || isFalse(_col) || isFalse(col.show)) ? item : this.makeCol(rule, uni, [item]);\n    },\n    makeInfo(rule, uni) {\n        const titleProp = rule.title;\n        const infoProp = rule.info;\n        if (this.options.form.title === false) return false;\n        if ((!titleProp.title && !titleProp.native) || isFalse(titleProp.show)) return;\n        const isTool = isTooltip(infoProp);\n        const children = [titleProp.title];\n\n        if (!isFalse(infoProp.show) && (infoProp.info || infoProp.native) && !isFalse(infoProp.icon)) {\n            const prop = {\n                type: infoProp.type || 'popover',\n                props: {...infoProp},\n                key: `${uni}pop`,\n                slot: 'label',\n            };\n            const field = isTool ? 'title' : 'content';\n            if (infoProp.info && !hasProperty(prop.props, field)) {\n                prop.props[field] = infoProp.info;\n            }\n            children[infoProp.align !== 'left' ? 'unshift' : 'push'](this.$r(mergeProps([infoProp, prop]), [\n                this.$r({\n                    type: 'icon',\n                    props: {type: infoProp.icon === true ? 'question-circle-o' : infoProp.icon},\n                    key: `${uni}i`\n                })\n            ]));\n        }\n        return this.$r(mergeProps([titleProp, {\n            props: titleProp,\n            slot: titleProp.slot || 'label',\n            key: `${uni}tit`,\n            type: titleProp.type || 'span',\n        }]), children);\n    },\n    makeCol(rule, uni, children) {\n        const col = rule.col;\n        return this.$r({\n            class: col.class,\n            type: 'col',\n            props: col || {span: 24},\n            key: `${uni}col`\n        }, children);\n    },\n    makeRow(children) {\n        const row = this.options.row || {};\n        return this.$r({\n            type: 'row',\n            props: row,\n            class: row.class,\n            key: `${this.key}row`\n        }, children)\n    },\n    makeFormBtn() {\n        let vn = [];\n        if (!isFalse(this.options.submitBtn.show)) {\n            vn.push(this.makeSubmitBtn())\n        }\n        if (!isFalse(this.options.resetBtn.show)) {\n            vn.push(this.makeResetBtn())\n        }\n        if (!vn.length) {\n            return;\n        }\n        let {labelCol, wrapperCol, layout} = this.rule.props;\n        if (layout !== 'horizontal') {\n            labelCol = wrapperCol = {};\n        }\n        const item = this.$r({\n            type: 'formItem',\n            key: `${this.key}fb`,\n            props: {\n                labelCol,\n                wrapperCol,\n                label: ' ', colon: false\n            }\n        }, vn);\n\n        return layout === 'inline'\n            ? item\n            : this.$r({\n                type: 'col',\n                props: {span: 24},\n                key: `${this.key}fc`\n            }, [item]);\n    },\n    makeResetBtn() {\n        const resetBtn = this.options.resetBtn;\n        return this.$r({\n            type: 'button',\n            props: resetBtn,\n            style: {width: resetBtn.width, marginLeft: '10px'},\n            on: {\n                click: () => {\n                    const fApi = this.$handle.api;\n                    resetBtn.click\n                        ? resetBtn.click(fApi)\n                        : fApi.resetFields();\n                }\n            },\n            key: `${this.key}b2`,\n        }, [resetBtn.innerText]);\n    },\n    makeSubmitBtn() {\n        const submitBtn = this.options.submitBtn;\n\n        return this.$r({\n            type: 'button',\n            props: submitBtn,\n            style: {width: submitBtn.width},\n            on: {\n                click: () => {\n                    const fApi = this.$handle.api;\n                    submitBtn.click\n                        ? submitBtn.click(fApi)\n                        : fApi.submit();\n                }\n            },\n            key: `${this.key}b1`,\n        }, [submitBtn.innerText]);\n    }\n}\n","import {creatorFactory} from '@form-create/core/src/index';\n\nconst maker = {};\n\nfunction useAlias(maker) {\n    ['upload', 'frame', 'autoComplete', 'cascader', 'datePicker', 'frame', 'inputNumber', 'radio', 'rate', 'switch', 'rate', 'slider', 'timePicker'].reduce((maker, name) => {\n        maker[name] = creatorFactory(name);\n        return maker;\n    }, maker);\n    maker.auto = maker.autoComplete;\n    maker.number = maker.inputNumber;\n    maker.time = maker.timePicker;\n}\n\nfunction useFrame(maker) {\n    const types = {\n        frameInputs: ['input', 0],\n        frameFiles: ['file', 0],\n        frameImages: ['image', 0],\n        frameInputOne: ['input', 1],\n        frameFileOne: ['file', 1],\n        frameImageOne: ['image', 1]\n    };\n\n    Object.keys(types).reduce((maker, key) => {\n        maker[key] = creatorFactory('frame', m => m.props({type: types[key][0], maxLength: types[key][1]}));\n        return maker\n    }, maker);\n\n    maker.frameInput = maker.frameInputs;\n    maker.frameFile = maker.frameFiles;\n    maker.frameImage = maker.frameImages;\n}\n\nfunction useSlider(maker) {\n    maker['sliderRange'] = creatorFactory('slider', {range: true})\n}\n\nfunction useSelect(m) {\n    const name = 'select';\n    m.selectMultiple = creatorFactory(name, {mode:'multiple'});\n    m.selectTags = creatorFactory(name, {mode: 'tags'});\n    m.selectCombobox = creatorFactory(name, {mode:'combobox'});\n}\n\nfunction useUpload(maker) {\n    const types = {\n        image: ['image', 0],\n        file: ['file', 0],\n        uploadFileOne: ['file', 1],\n        uploadImageOne: ['image', 1],\n    };\n\n    Object.keys(types).reduce((maker, key) => {\n        maker[key] = creatorFactory('upload', m => m.props({uploadType: types[key][0], maxLength: types[key][1]}));\n        return maker\n    }, maker);\n\n    maker.uploadImage = maker.image;\n    maker.uploadFile = maker.file;\n}\n\nuseAlias(maker);\nuseSlider(maker);\nuseFrame(maker);\nuseUpload(maker);\nuseSelect(maker);\n\nexport default maker;\n","import extend from '@form-create/utils/lib/extend';\nimport is from '@form-create/utils/lib/type';\nimport {invoke} from '@form-create/core/src/frame/util';\nimport toArray from '@form-create/utils/lib/toarray';\n\nfunction tidyBtnProp(btn, def) {\n    if (is.Boolean(btn))\n        btn = {show: btn};\n    else if (!is.Undef(btn) && !is.Object(btn)) btn = {show: def};\n    return btn;\n}\n\nexport default function extendApi(api, h) {\n    extend(api, {\n        validate(callback) {\n            let flag;\n            const forms = api.children;\n            let len = forms.length;\n            const validate = () => {\n                h.$manager.validate((...args) => {\n                    if (!args[0] || !flag) {\n                        flag = args;\n                    }\n                    callback && callback(...flag);\n                });\n            };\n\n            const validFn = (args) => {\n                setTimeout(() => {\n                    if (!args[0]) {\n                        if (!flag) {\n                            flag = args;\n                        }\n                    }\n                    if (!--len) {\n                        validate();\n                    }\n                });\n            };\n\n            forms.forEach(form => {\n                form.validate((...args) => validFn(args))\n            })\n\n            if (!len) {\n                validate();\n            }\n        },\n        validateField: (field, callback) => {\n            const ctx = h.getFieldCtx(field);\n            if (!ctx) return;\n            const sub = h.subForm[ctx.id];\n            let len = 0;\n            let flag;\n            const validate = () => {\n                h.$manager.validateField(ctx.id, (...args) => {\n                    if (args[0]) {\n                        flag = args;\n                    } else if (flag) {\n                        return callback && callback('子表单验证未通过', flag[1]);\n                    }\n                    callback && callback(...flag || args);\n                });\n            };\n            const validFn = (args) => {\n                setTimeout(() => {\n                    if (!args[0]) {\n                        if (!flag) {\n                            flag = args;\n                        }\n                    }\n                    if (!--len) {\n                        validate();\n                    }\n                });\n            };\n            sub && toArray(sub).forEach(form => {\n                len++;\n                form.validate((...args) => validFn(args))\n            });\n\n            if (!len) {\n                validate();\n            }\n        },\n        clearValidateState(fields, clearSub = true) {\n            api.helper.tidyFields(fields).forEach(field => {\n                if (clearSub) this.clearSubValidateState(field);\n                h.getCtxs(field).forEach(ctx => {\n                    h.$manager.clearValidateState(ctx);\n                });\n            });\n        },\n        clearSubValidateState(fields) {\n            api.helper.tidyFields(fields).forEach(field => {\n                h.getCtxs(field).forEach(ctx => {\n                    const subForm = h.subForm[ctx.id];\n                    if (!subForm) return;\n                    if (Array.isArray(subForm)) {\n                        subForm.forEach(form => {\n                            form.clearValidateState();\n                        })\n                    } else if (subForm) {\n                        subForm.clearValidateState();\n                    }\n                });\n            })\n        },\n        btn: {\n            loading: (loading = true) => {\n                api.submitBtnProps({loading: !!loading});\n            },\n            disabled: (disabled = true) => {\n                api.submitBtnProps({disabled: !!disabled});\n            },\n            show: (isShow = true) => {\n                api.submitBtnProps({show: !!isShow});\n            }\n        },\n        resetBtn: {\n            loading: (loading = true) => {\n                api.resetBtnProps({loading: !!loading});\n            },\n            disabled: (disabled = true) => {\n                api.resetBtnProps({disabled: !!disabled});\n            },\n            show: (isShow = true) => {\n                api.resetBtnProps({show: !!isShow});\n            }\n        },\n        submitBtnProps: (props = {}) => {\n            let btn = tidyBtnProp(h.options.submitBtn, true);\n            extend(btn, props);\n            h.options.submitBtn = btn;\n            api.refreshOptions();\n        },\n        resetBtnProps: (props = {}) => {\n            let btn = tidyBtnProp(h.options.resetBtn, false);\n            extend(btn, props);\n            h.options.resetBtn = btn;\n            api.refreshOptions();\n        },\n        submit(successFn, failFn) {\n            api.validate((valid) => {\n                if (valid) {\n                    let formData = api.formData();\n                    if (is.Function(successFn))\n                        invoke(() => successFn(formData, this));\n                    else {\n                        is.Function(h.options.onSubmit) && invoke(() => h.options.onSubmit(formData, this));\n                        h.vm.$emit('submit', formData, this);\n                    }\n                } else {\n                    is.Function(failFn) && invoke(() => failFn(this, ...arguments));\n                }\n            });\n        },\n    });\n\n    return api;\n}\n","import components from '../components';\nimport parsers from '../parsers';\nimport alias from './alias';\nimport manager from './manager';\nimport FormCreateFactory from '@form-create/core/src/index';\nimport makers from './maker';\nimport '../style/index.css';\nimport extendApi from './api';\n\nfunction install(FormCreate) {\n    FormCreate.componentAlias(alias);\n\n    components.forEach(component => {\n        FormCreate.component(component.name, component);\n    });\n\n    parsers.forEach((parser) => {\n        FormCreate.parser(parser);\n    });\n\n    Object.keys(makers).forEach(name => {\n        FormCreate.maker[name] = makers[name];\n    });\n}\n\nexport default function antdvFormCreate() {\n    return FormCreateFactory({\n        ui: `${process.env.UI}`,\n        version: `${process.env.VERSION}`,\n        manager,\n        install,\n        extendApi,\n        attrs: {\n            normal: ['col', 'wrap'],\n            array: ['className'],\n            key: ['title', 'info'],\n        }\n    });\n}\n","import antdvFormCreate from './core/index';\n\nconst FormCreate = antdvFormCreate();\n\nif (typeof window !== 'undefined') {\n    window.formCreate = FormCreate;\n    if (window.Vue) {\n        FormCreate.install(window.Vue);\n    }\n}\n\nconst maker = FormCreate.maker;\n\nexport {maker}\n\nexport default FormCreate;\n"],"names":["_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","toString","val","_typeof","JSON","stringify","String","$set","target","field","value","Vue","set","$del","is","type","arg","Undef","v","Element","nodeType","trueArray","data","isArray","Function","getType","str","exec","empty","hasProperty","rule","k","deepExtend","origin","mode","isArr","key","clone","nst","undefined","_clone","getRule","__json","__origin","filter","__ctrl","deepCopy","toArray","getSlot","slots","exclude","keys","lst","name","push","forEach","t","parseFile","file","uid","url","getFileName","status","split","pop","parseUpload","NAME","formCreateParser","toFormValue","toValue","formValue","ctx","prop","props","limit","Number","formCreateInject","required","onSuccess","onHandle","previewImage","previewVisible","modalTitle","previewMask","fileList","map","defaultUploadList","uploadList","watch","n","$refs","upload","sFileList","methods","handleChange","list","input","splice","$emit","render","isShow","on","bind","$slots","_this","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","helper","Boolean","disabled","src","icon","width","height","maxLength","okBtnText","closeBtnText","handleIcon","title","allowRemove","onOpen","onOk","onCancel","onLoad","onBeforeRemove","onRemove","getSrc","modal","srcKey","footer","reload","closeBtn","okBtn","frameVisible","unique","closeModal","close","$off","showModal","makeInput","readonly","makeGroup","children","makeBtn","makeItem","index","valid","Error","makeIcons","icons","makeHandleIcon","makeRemoveIcon","_this2","handleClick","_this3","handleRemove","makeFiles","_this4","makeImages","_this5","_this6","frameLoad","iframe","api","_this7","get","fn","$on","onClose","console","log","makeFooter","$props","node","_this8","Node","$nextTick","_this9","frame","contentWindow","mounted","extend","rules","expand","options","button","max","min","defaultValue","syncDisabled","fontSize","onBeforeAdd","len","cacheRule","cacheValue","computed","formRule","handler","o","item","$f","formData","once","setValue","deep","expandRule","total","addRule","removeRule","_value","cache","form","coverValue","emit","copyRules","submitBtn","resetBtn","defVal","add$f","$delete","add","del","addIcon","delIcon","makeIcon","$scopedSlots","vm","emitEvent","args","created","$form","Type","group","subForm","mergeProp","checkbox","getRuleInject","parent","$parent","$FormCreate","FormCreate","componentName","model","provide","$pfc","inject","option","extendOption","inFor","destroyed","validate","renderRule","ctxInject","updateValue","isMore","formCreate","_refresh","_renderRule","_updateValue","initOptions","refresh","every","$handle","reloadRule","beforeCreate","$options","propsData","fapi","rmSubForm","sub","getSubForm","idx","$watch","addSubForm","immediate","mergeProps","objects","initial","opt","_normalMerge","_toArrayMerge","_functionalMerge","propsMerge","arrA","arrB","event","hook","fn1","fn2","keyAttrs","arrayAttrs","normalAttrs","attrs","format","msg","tip","warn","err","error","logError","PREFIX","SUFFIX","$T","$TX","FUNCTION","toJson","obj","space","_isVue","__emit","makeFn","eval","parseFn","trim","flag","replace","__inject","parseJson","json","parse","enumerable","writable","configurable","copyRule","mergeRule","merge","array","normal","mergeGlobal","funcProxy","that","proxy","defineProperties","byCtx","__fc__","__origin__","invoke","def","baseRule","hidden","display","creatorFactory","init","maker","Creator","_data","appendProto","setProp","constructor","commonMaker","create","make","createTmp","template","makerFactory","factory","copy","Api","tidyFields","fields","getCtxs","$render","clearCache","allSubForm","subs","id","getFieldCtx","appendValue","appendData","getValue","deferSyncValue","ctxs","fieldCtx","removeField","getCtx","rm","destroy","$el","parentNode","removeChild","$destroy","append","after","child","sort","root","prepend","state","hiddenStatus","displayStatus","all","component","nameCtx","updateOptions","fc","onSubmit","sync","deleted","clearCacheAll","refreshOptions","$manager","hideForm","hide","changeStatus","clearChangeStatus","updateRule","updateRules","mergeRules","setEffect","attr","substr","effect","updateValidate","updateValidates","validates","refreshValidate","resetFields","refreshControl","method","el","trigger","nextTick","bus","$once","nextRefresh","changeValue","changeField","useCache","Render","initCache","use","setCache","vnode","slot","getCache","toCase","lower","toLocaleUpperCase","toLowerCase","toLine","line","toLocaleLowerCase","uniqueId","Math","random","Date","now","deepSet","to","useRender","initRender","tempList","clearOrgChildren","initOrgChildren","orgChildren","parser","loadChildren","getTypeSlot","_fn","vn","$h","$createElement","beforeRender","renderList","renderSlot","renderName","renderId","renderField","container","renderCtx","makeVm","getInjectData","global","cacheConfig","originType","trueType","setOptions","optionsTo","setTempProps","injectProp","injectKeys","renderTemp","compile","onInput","parseSide","side","renderSides","temp","prefix","suffix","cacheFlag","_type","none","renderChildren","initProp","tidyRule","ctxProp","preview","makeWrap","custom","onMounted","getFormData","callback","expression","__rule__","isRm","rmCtx","defaultRender","vNode","makeComponent","alias","aliasMap","_this10","handle","CreateNode","useInject","Handler","parseInjectEvent","injectEvent","parseEventLst","parseEvent","parseEmit","emitPrefix","emitKey","eventName","eventInject","fieldKey","_inject","self","watching","loading","unshift","EVENT","usePage","page","first","getLimit","parseInt","pageEnd","pageLoad","pageFn","loadRule","ceil","clearNextTick","clearTimeout","bindNextTick","setTimeout","loadedId","RuleContext","wrapRef","linkOn","ctrlRule","payload","updateType","updateKey","update","useLoader","parseRule","_rule","fullRule","loadFn","loadCtrl","control","ctrl","syncProp","pre","cycleLoad","_loadRule","syncForm","isRepeat","ruleEffect","repeat","isCopy","isInit","check","isCtrl","bindParser","setCtx","_preIndex","preIndex","r","updated","refreshUpdate","defineProperty","valueHandle","useCtrl","controls","getCtrl","handleFn","findCtrl","isHidden","reverse","ruleCon","ctrlCtx","_reloadRule","initData","reloading","nextReload","useInput","setFlag","setFormData","syncValue","valueChange","isQuote","isChange","toEmpty","deferSyncFn","strFn","refreshRule","appendLink","link","effectData","clearEffectData","setParser","unwatch","un","unlink","watchTo","watchCtx","rmCtrl","$api","_rm","noWatch","BaseParser","noneKey","useContext","getNameCtx","setIdCtx","rmIdCtx","isMounted","getParser","parsers","noWatchFn","rmSub","watchEffect","useLifecycle","_mounted","lifecycle","useEffect","useProvider","ps","providers","_c","getComponent","onEffect","provider","used","_used","emitEffect","getEffect","p","getProp","clearProp","arr","components","manager","extendApi","getError","action","xhr","getBody","text","responseText","response","fetch","XMLHttpRequest","onerror","onError","onload","open","dataType","FormData","setRequestHeader","withCredentials","headers","send","__init","functional","parseProp","domProps","innerHTML","CreateNodeFactory","setVm","tag","config","isReservedTag","nativeOn","context","nodes","createManager","proto","CustomManager","Manager","mergeOptionsRule","$r","mergeOptions","tidyOptions","getDefaultOptions","$fetch","loaded","run","$required","load","parseVa","validator","_","message","parseOpt","body","join","_vue","window","_parseProp","nameProp","_getEl","querySelector","mountForm","$vm","$data","$mount","exportAttrs","instance","FormCreateFactory","fragment","directives","$provider","globalConfig","getApi","directive","register","componentAlias","base","$vnode","install","_opt","inherit","_config","useAttr","version","ui","mount","remove","Handle","isSub","_installedFormCreate","$formCreate","html","FORMAT_TYPE","date","month","week","range","toMoment","moment","getFormat","dateRange","datetimeRange","m","showTime","idate","replaceFields","checkedKeys","checkable","col","span","row","datePicker","timePicker","tree","radio","select","PRE","tooltip","popover","slider","rate","cascader","rangePicker","weekPicker","monthPicker","inputNumber","search","textarea","formItem","autoComplete","object","UNDEF","getConfig","hideRequiredMark","layout","labelAlign","labelCol","wrapperCol","validateOnRuleChange","gutter","innerText","show","click","isTooltip","info","tidy","isFalse","tidyBool","validateField","clearValidateState","fItem","validateMessage","validateState","wrap","placement","submit","preventDefault","className","makeFormBtn","makeRow","uni","_col","makeInfo","makeCol","titleProp","infoProp","isTool","align","makeSubmitBtn","makeResetBtn","label","colon","marginLeft","fApi","useAlias","auto","number","time","useFrame","types","frameInputs","frameFiles","frameImages","frameInputOne","frameFileOne","frameImageOne","frameInput","frameFile","frameImage","useSlider","useSelect","selectMultiple","selectTags","selectCombobox","useUpload","image","uploadFileOne","uploadImageOne","uploadType","uploadImage","uploadFile","tidyBtnProp","btn","forms","validFn","clearSub","clearSubValidateState","submitBtnProps","resetBtnProps","successFn","failFn","makers","antdvFormCreate","process"],"mappings":"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"}